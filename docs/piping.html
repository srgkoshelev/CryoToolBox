<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
<meta name="generator" content="pdoc3 0.11.6">
<title>CryoToolBox.piping API documentation</title>
<meta name="description" content="Utilities for hydraulics calculations …">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/13.0.0/sanitize.min.css" integrity="sha512-y1dtMcuvtTMJc1yPgEqF0ZjQbhnc/bFhyvIyVNb9Zk5mIGtqVaAB1Ttl28su8AvFMOY0EwRbAe+HCLqj6W7/KA==" crossorigin>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/13.0.0/typography.min.css" integrity="sha512-Y1DYSb995BAfxobCkKepB1BqJJTPrOp3zPL74AWFugHHmmdcvO+C48WLrUOlhGMc0QG7AE3f7gmvvcrmX2fDoA==" crossorigin>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:1.5em;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:2em 0 .50em 0}h3{font-size:1.4em;margin:1.6em 0 .7em 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .2s ease-in-out}a:visited{color:#503}a:hover{color:#b62}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900;font-weight:bold}pre code{font-size:.8em;line-height:1.4em;padding:1em;display:block}code{background:#f3f3f3;font-family:"DejaVu Sans Mono",monospace;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source > summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible;min-width:max-content}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em 1em;margin:1em 0}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul ul{padding-left:1em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js" integrity="sha512-D9gUyxqja7hBtkWpPWGt9wfbfaMGVt9gnyCvYa+jojwwPHLCzUm5i8rpk7vD7wNee9bA35eYIjobYPaQuKS1MQ==" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => {
hljs.configure({languages: ['bash', 'css', 'diff', 'graphql', 'ini', 'javascript', 'json', 'plaintext', 'python', 'python-repl', 'rust', 'shell', 'sql', 'typescript', 'xml', 'yaml']});
hljs.highlightAll();
/* Collapse source docstrings */
setTimeout(() => {
[...document.querySelectorAll('.hljs.language-python > .hljs-string')]
.filter(el => el.innerHTML.length > 200 && ['"""', "'''"].includes(el.innerHTML.substring(0, 3)))
.forEach(el => {
let d = document.createElement('details');
d.classList.add('hljs-string');
d.innerHTML = '<summary>"""</summary>' + el.innerHTML.substring(3);
el.replaceWith(d);
});
}, 100);
})</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>CryoToolBox.piping</code></h1>
</header>
<section id="section-intro">
<p>Utilities for hydraulics calculations.</p>
<p>Contains functions for hydrodynamic calculations. The main source of the
equations is Crane TP-410.</p>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="CryoToolBox.piping.Cv_to_K"><code class="name flex">
<span>def <span class="ident">Cv_to_K</span></span>(<span>Cv, ID)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def Cv_to_K(Cv, ID):
    &#34;&#34;&#34;
    Calculate resistance coefficient K based on flow coefficient value Cv.
    Based on definition:
    Cv = Q*sqrt(rho/(d_P*rho_w))
    where Q - volumetric flow, rho - flow density
    rho_w - water density at 60 F
    d_P - pressure drop through the valve.
    [Cv] = gal/(min*(psi)**0.5)
    &#34;&#34;&#34;
    if isinstance(Cv, (int, float)):  # Check if dimensionless input
        Cv = Cv*ureg(&#39;gal/(min*(psi)**0.5)&#39;)  # Convention accepted in the US
    A = pi*ID**2/4
    rho_w = 999*ureg(&#39;kg/m**3&#39;)  # Water density at 60 F
    # Based on Crane TP-410 p. 2-10 and Darcy equation:
    K = 2*A**2/(Cv**2*rho_w)
    return K.to(ureg.dimensionless)</code></pre>
</details>
<div class="desc"><p>Calculate resistance coefficient K based on flow coefficient value Cv.
Based on definition:
Cv = Q<em>sqrt(rho/(d_P</em>rho_w))
where Q - volumetric flow, rho - flow density
rho_w - water density at 60 F
d_P - pressure drop through the valve.
[Cv] = gal/(min<em>(psi)</em>*0.5)</p></div>
</dd>
<dt id="CryoToolBox.piping.Cv_to_Kv"><code class="name flex">
<span>def <span class="ident">Cv_to_Kv</span></span>(<span>Cv)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def Cv_to_Kv(Cv):
    &#34;&#34;&#34;
    Convert Cv (flow coefficient in US units) to Kv (flow coefficient in metric units).

    Parameters
    ----------
    Cv : float
        Flow coefficient expressed in US units gal/(min*psi**0.5).

    Returns
    -------
    float
        Flow coefficient expressed in metric units (m³/(h*bar**0.5)).
    &#34;&#34;&#34;
    Cv *= ureg.gal / (ureg.min * ureg.psi**0.5)
    return Cv.m_as(ureg.m**3 / (ureg.h * ureg.bar**0.5))</code></pre>
</details>
<div class="desc"><p>Convert Cv (flow coefficient in US units) to Kv (flow coefficient in metric units).</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>Cv</code></strong> :&ensp;<code>float</code></dt>
<dd>Flow coefficient expressed in US units gal/(min<em>psi</em>*0.5).</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>float</code></dt>
<dd>Flow coefficient expressed in metric units (m³/(h<em>bar</em>*0.5)).</dd>
</dl></div>
</dd>
<dt id="CryoToolBox.piping.G_nozzle"><code class="name flex">
<span>def <span class="ident">G_nozzle</span></span>(<span>fluid,<br>P_out=&lt;Quantity(14.696, &#x27;pound_force_per_square_inch&#x27;)&gt;,<br>n_steps=20)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def G_nozzle(fluid, P_out=P_NTP, n_steps=20):
    &#34;&#34;&#34;Calculate mass flux through a converging nozzle using direct integration
    method.

    This method is recommended for relief valve sizing.

    Parameters
    ----------

    Returns
    -------

    &#34;&#34;&#34;
    fluid_temp = fluid.copy()
    P1_ = fluid.P.m_as(ureg.Pa)
    P2_ = P_out.m_as(ureg.Pa)
    S = fluid.Smass

    def v(P_):
        P = P_ * ureg.Pa
        fluid_temp.update_kw(P=P, Smass=S)
        rho = fluid_temp.Dmass.m_as(ureg.kg/ureg.m**3)
        return 1/rho

    dP = (P1_-P2_) / n_steps
    P_ = P1_
    # temp = []
    G_max = 0
    while P_ &gt; P2_:
        G = 1/v(P_) * (-2*quad(v, P1_, P_)[0])**0.5
        # temp.append((G, (P_*ureg.Pa).m_as(ureg.psi)))
        if G &gt;= G_max:
            G_max = G
        else:
            break
        P_ -= dP
    G_max *= ureg.kg/(ureg.s*ureg.m**2)
    return G_max</code></pre>
</details>
<div class="desc"><p>Calculate mass flux through a converging nozzle using direct integration
method.</p>
<p>This method is recommended for relief valve sizing.</p>
<h2 id="parameters">Parameters</h2>
<h2 id="returns">Returns</h2></div>
</dd>
<dt id="CryoToolBox.piping.I_extrados"><code class="name flex">
<span>def <span class="ident">I_extrados</span></span>(<span>R1, D)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def I_extrados(R1, D):
    &#34;&#34;&#34;Calculate coefficient I at the extrados of a bend per B31.3 304.2.1 (3e).

    Parameters
    ----------
    R1 : float
        bend radius of a pipe bend
    D : ureg.Quantity {length: 1}
        Outside diameter of a pipe

    Returns
    -------
    float
    &#34;&#34;&#34;

    I = (4*(R1/D)+1) / (4*(R1/D)+2)
    return I</code></pre>
</details>
<div class="desc"><p>Calculate coefficient I at the extrados of a bend per B31.3 304.2.1 (3e).</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>R1</code></strong> :&ensp;<code>float</code></dt>
<dd>bend radius of a pipe bend</dd>
<dt><strong><code>D</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Outside diameter of a pipe</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>float</code></dt>
<dd>&nbsp;</dd>
</dl></div>
</dd>
<dt id="CryoToolBox.piping.I_intrados"><code class="name flex">
<span>def <span class="ident">I_intrados</span></span>(<span>R1, D)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def I_intrados(R1, D):
    &#34;&#34;&#34;Calculate coefficient I at the intrados of a bend per B31.3 304.2.1 (3d).

    Parameters
    ----------
    R1 : float
        bend radius of a pipe bend
    D : ureg.Quantity {length: 1}
        Outside diameter of a pipe

    Returns
    -------
    float
    &#34;&#34;&#34;

    I = (4*(R1/D)-1) / (4*(R1/D)-2)
    return I</code></pre>
</details>
<div class="desc"><p>Calculate coefficient I at the intrados of a bend per B31.3 304.2.1 (3d).</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>R1</code></strong> :&ensp;<code>float</code></dt>
<dd>bend radius of a pipe bend</dd>
<dt><strong><code>D</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Outside diameter of a pipe</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>float</code></dt>
<dd>&nbsp;</dd>
</dl></div>
</dd>
<dt id="CryoToolBox.piping.K_lim"><code class="name flex">
<span>def <span class="ident">K_lim</span></span>(<span>M, k)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def K_lim(M, k):
    &#34;&#34;&#34;Calculate max resistance coefficient of a pipe.
    &#34;&#34;&#34;
    if M == 0:
        raise ValueError(&#39;K_lim is undefined for Ma=0.&#39;)
    A = (1-M**2) / (k*M**2)
    B = (k+1)/(2*k)
    C = (k+1) * M**2
    D = 2 + (k-1) * M**2
    K = A + B * log(C/D)
    return K</code></pre>
</details>
<div class="desc"><p>Calculate max resistance coefficient of a pipe.</p></div>
</dd>
<dt id="CryoToolBox.piping.K_piping"><code class="name flex">
<span>def <span class="ident">K_piping</span></span>(<span>m_dot, fluid, piping)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def K_piping(m_dot, fluid, piping):
    &#34;&#34;&#34;Calculate resistance coefficient converted to the area of the first element.

    Parameters
    ----------
    piping : List[PipingElement]
    Returns
    -------
    tuple
        K0 : converted resistance coefficient of the piping
        A0 : area of the first element, basis for conversion
    &#34;&#34;&#34;
    K0 = 0*ureg.dimensionless
    try:
        A0 = piping[0].area  # using area of the first element as base
    except IndexError:
        raise IndexError(&#39;Piping has no elements! &#39;
                            &#39;Use Piping.add to add sections to piping.&#39;)
    for element in piping:
        Re_ = Re(fluid, m_dot, element.ID, element.area)
        K_el = element.K(Re_) * (A0/element.area)**2
        K0 += K_el
    return (K0.to_base_units(), A0)</code></pre>
</details>
<div class="desc"><p>Calculate resistance coefficient converted to the area of the first element.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>piping</code></strong> :&ensp;<code>List[<a title="CryoToolBox.piping.PipingElement" href="#CryoToolBox.piping.PipingElement">PipingElement</a>]</code></dt>
<dd>&nbsp;</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>tuple</code></dt>
<dd>K0 : converted resistance coefficient of the piping
A0 : area of the first element, basis for conversion</dd>
</dl></div>
</dd>
<dt id="CryoToolBox.piping.K_to_Cv"><code class="name flex">
<span>def <span class="ident">K_to_Cv</span></span>(<span>K, ID)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def K_to_Cv(K, ID):
    &#34;&#34;&#34;
    Calculate flow coefficient Cv based on resistance coefficient value K.
    Based on definition:
    Cv = Q*sqrt(rho/(d_P*rho_w))
    where Q - volumetric flow, rho - flow density
    rho_w - water density at 60 F
    d_P - pressure drop through the valve.
    [Cv] = gal/(min*(psi)**0.5)
    &#34;&#34;&#34;
    A = pi*ID**2/4
    rho_w = 999*ureg(&#39;kg/m**3&#39;)  # Water density at 60 F
    # TODO move density to global const (or use ThermState)
    # Based on Crane TP-410 p. 2-10 and Darcy equation:
    Cv = A*(2/(K*rho_w))**0.5
    Cv.ito(ureg(&#39;gal/(min*(psi)**0.5)&#39;))  # Convention accepted in the US
    return Cv</code></pre>
</details>
<div class="desc"><p>Calculate flow coefficient Cv based on resistance coefficient value K.
Based on definition:
Cv = Q<em>sqrt(rho/(d_P</em>rho_w))
where Q - volumetric flow, rho - flow density
rho_w - water density at 60 F
d_P - pressure drop through the valve.
[Cv] = gal/(min<em>(psi)</em>*0.5)</p></div>
</dd>
<dt id="CryoToolBox.piping.Kv_to_Cv"><code class="name flex">
<span>def <span class="ident">Kv_to_Cv</span></span>(<span>Kv)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def Kv_to_Cv(Kv):
    &#34;&#34;&#34;
    Convert Kv (flow coefficient in metric units) to Cv (flow coefficient in US units).

    Parameters
    ----------
    Kv : float
        Flow coefficient expressed in metric units (m³/(h*bar**0.5)).

    Returns
    -------
    float
        Flow coefficient expressed in US units (gal/(min*psi**0.5)).
    &#34;&#34;&#34;
    Kv *= ureg.m**3 / (ureg.h * ureg.bar**0.5)
    return Kv.m_as(ureg.gal / (ureg.min * ureg.psi**0.5))</code></pre>
</details>
<div class="desc"><p>Convert Kv (flow coefficient in metric units) to Cv (flow coefficient in US units).</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>Kv</code></strong> :&ensp;<code>float</code></dt>
<dd>Flow coefficient expressed in metric units (m³/(h<em>bar</em>*0.5)).</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>float</code></dt>
<dd>Flow coefficient expressed in US units (gal/(min<em>psi</em>*0.5)).</dd>
</dl></div>
</dd>
<dt id="CryoToolBox.piping.M_Klim"><code class="name flex">
<span>def <span class="ident">M_Klim</span></span>(<span>K, k)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def M_Klim(K, k):
    if K &lt; 0:
        raise HydraulicError(f&#34;Resistance coefficient value can&#39;t be less \
        than 0: {K}&#34;)
    K = float(K)

    def to_solve(M):
        if M == 0:
            return float(&#39;-inf&#39;)
        return K - K_lim(M, k)
    bracket = [0, 1]
    solution = root_scalar(to_solve, bracket=bracket)
    M = solution.root
    return M</code></pre>
</details>
<div class="desc"></div>
</dd>
<dt id="CryoToolBox.piping.M_complex"><code class="name flex">
<span>def <span class="ident">M_complex</span></span>(<span>M, k)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def M_complex(M, k):
    return 1 + M**2 * (k-1) / 2</code></pre>
</details>
<div class="desc"></div>
</dd>
<dt id="CryoToolBox.piping.Mach"><code class="name flex">
<span>def <span class="ident">Mach</span></span>(<span>fluid, v)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def Mach(fluid, v):
    &#34;&#34;&#34;Calculate Mach number for given static conditions of the fluid.


    Parameters:
    -----------
    fluid : ThermState
        Fluid state at static temperature and pressure
    v : Quantity, {length: 1, time: -1}
    &#34;&#34;&#34;
    M = v / fluid.speed_sound
    return float(M)</code></pre>
</details>
<div class="desc"><p>Calculate Mach number for given static conditions of the fluid.</p>
<h2 id="parameters">Parameters:</h2>
<p>fluid : ThermState
Fluid state at static temperature and pressure
v : Quantity, {length: 1, time: -1}</p></div>
</dd>
<dt id="CryoToolBox.piping.Mach_total"><code class="name flex">
<span>def <span class="ident">Mach_total</span></span>(<span>fluid, m_dot, area)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def Mach_total(fluid, m_dot, area):
    &#34;&#34;&#34;Calculate Mach number for total temperature and pressure.

    Parameters:
    -----------
    fluid : ThermState
        Fluid state at total temperature and pressure
    &#34;&#34;&#34;
    k = float(fluid.gamma)
    v = velocity(fluid, m_dot, area)
    T = fluid.T
    P = fluid.P
    Z = fluid.Z
    R = ureg.molar_gas_constant / fluid.molar_mass
    B = m_dot / area * (Z*R/k)**0.5
    M_core = float(B * T**0.5 / P)

    def to_solve(Msq):
        try:
            res = M_core**2 * (1+Msq*(k-1)/2)**((k+1)/(k-1)) - Msq
        except RuntimeWarning:
            res = float(&#39;nan&#39;)
        return res
    bracket = [0, 1]
    solution = root_scalar(to_solve, bracket=bracket)
    M_root = solution.root**0.5
    # Not sure if this is needed anymore
    T = fluid.T - v**2 / fluid.Cpmass
    if T &lt; 0*ureg.K:
        raise HydraulicError(f&#39;Negative static temperature: {T:.3g~}. Required &#39;
                             f&#39;speed {v.to(ureg.m/ureg.s):.3g~} cannot be achieved.&#39;)
    return M_root</code></pre>
</details>
<div class="desc"><p>Calculate Mach number for total temperature and pressure.</p>
<h2 id="parameters">Parameters:</h2>
<p>fluid : ThermState
Fluid state at total temperature and pressure</p></div>
</dd>
<dt id="CryoToolBox.piping.P_crit"><code class="name flex">
<span>def <span class="ident">P_crit</span></span>(<span>P, M, k)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def P_crit(P, M, k):
    &#34;&#34;&#34;Calculate critical(sonic) pressure for the given static pressure and Ma.&#34;&#34;&#34;
    M_crit_comp = (k+1) / (2+(k-1)*M**2)
    P_c = P * M / M_crit_comp**0.5
    return P_c</code></pre>
</details>
<div class="desc"><p>Calculate critical(sonic) pressure for the given static pressure and Ma.</p></div>
</dd>
<dt id="CryoToolBox.piping.P_from_M"><code class="name flex">
<span>def <span class="ident">P_from_M</span></span>(<span>P1, M1, M2, k)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def P_from_M(P1, M1, M2, k):
    &#34;&#34;&#34;Calculate static pressure from inlet static pressure and Mach numbers.&#34;&#34;&#34;
    PM1 = P1 * M1 * M_complex(M1, k)**0.5
    P2 = PM1 / (M2*M_complex(M2, k)**0.5)
    return P2</code></pre>
</details>
<div class="desc"><p>Calculate static pressure from inlet static pressure and Mach numbers.</p></div>
</dd>
<dt id="CryoToolBox.piping.P_total"><code class="name flex">
<span>def <span class="ident">P_total</span></span>(<span>P, M, k)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def P_total(P, M, k):
    &#34;&#34;&#34;Calculate total pressure from static pressure.&#34;&#34;&#34;
    return P * M_complex(M, k)**(k/(k-1))</code></pre>
</details>
<div class="desc"><p>Calculate total pressure from static pressure.</p></div>
</dd>
<dt id="CryoToolBox.piping.beta"><code class="name flex">
<span>def <span class="ident">beta</span></span>(<span>d1, d2)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def beta(d1, d2):
    &#34;&#34;&#34;
    Calculate beta = d/D for contraction or enlargement.
    &#34;&#34;&#34;
    beta_ = min(d1, d2)/max(d1, d2)
    return float(beta_)</code></pre>
</details>
<div class="desc"><p>Calculate beta = d/D for contraction or enlargement.</p></div>
</dd>
<dt id="CryoToolBox.piping.calculate_branch_reinforcement"><code class="name flex">
<span>def <span class="ident">calculate_branch_reinforcement</span></span>(<span>header,<br>branch,<br>P_diff,<br>beta=&lt;Quantity(90, &#x27;degree&#x27;)&gt;,<br>Tr=&lt;Quantity(0, &#x27;inch&#x27;)&gt;,<br>Lr=&lt;Quantity(0, &#x27;inch&#x27;)&gt;,<br>d1=None,<br>*,<br>S,<br>E,<br>W,<br>Y)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def calculate_branch_reinforcement(header, branch, P_diff, beta=Q_(&#39;90 deg&#39;),
                                   Tr=Q_(&#39;0 in&#39;), Lr=Q_(&#39;0 in&#39;), d1=None,
                                   *, S, E, W, Y):
    &#34;&#34;&#34;Calculate reinforcement and available area for given branch pipe and
    reinforcing ring thickness, Tr.

    Parameters
    ----------
    header : Pipe
        Header pipe/tube
    branch : Pipe
        Branch pipe/tube
    P_diff : ureg.Quantity {length: -1, mass: 1, time: -2}
        Differential internal pressure in pipe and branch
    beta : ureg.Quantity {dimensionless}
        Smaller angle between axes of branch and run
    d1 : ureg.Quantity {length: 1}
        Effective length removed from pipe at branch (opening for branch)
    Tr : ureg.Quantity {length: 1}
        Minimum thickness of reinforcing ring
    Lr : ureg.Quantity {length: 1}
        Length of reinforcing ring along the run pipe.

    Returns
    -------
    None

    &#34;&#34;&#34;
    # B31.3 has no specification which allowance to use
    # Using header allowance for header
    # and branch allowance for branch
    Dh = header.OD
    Th = header.T
    tmh = pressure_req_thick(header, P_diff, S=S, E=E, W=W, Y=Y)
    c = header.c
    th = tmh - c
    result = _reinforcement_area(P_diff, Dh, Th, th, c, branch, beta, Tr, Lr, d1,
                                 S, E, W, Y)
    return result</code></pre>
</details>
<div class="desc"><p>Calculate reinforcement and available area for given branch pipe and
reinforcing ring thickness, Tr.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>header</code></strong> :&ensp;<code><a title="CryoToolBox.piping.Pipe" href="#CryoToolBox.piping.Pipe">Pipe</a></code></dt>
<dd>Header pipe/tube</dd>
<dt><strong><code>branch</code></strong> :&ensp;<code><a title="CryoToolBox.piping.Pipe" href="#CryoToolBox.piping.Pipe">Pipe</a></code></dt>
<dd>Branch pipe/tube</dd>
<dt><strong><code>P_diff</code></strong> :&ensp;<code>ureg.Quantity {length: -1, mass: 1, time: -2}</code></dt>
<dd>Differential internal pressure in pipe and branch</dd>
<dt><strong><code>beta</code></strong> :&ensp;<code>ureg.Quantity {dimensionless}</code></dt>
<dd>Smaller angle between axes of branch and run</dd>
<dt><strong><code>d1</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Effective length removed from pipe at branch (opening for branch)</dd>
<dt><strong><code>Tr</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Minimum thickness of reinforcing ring</dd>
<dt><strong><code>Lr</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Length of reinforcing ring along the run pipe.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>None</code></dt>
<dd>&nbsp;</dd>
</dl></div>
</dd>
<dt id="CryoToolBox.piping.calculate_closure_reinforcement"><code class="name flex">
<span>def <span class="ident">calculate_closure_reinforcement</span></span>(<span>Tp,<br>tp,<br>c,<br>branch,<br>P_diff,<br>beta=&lt;Quantity(90, &#x27;degree&#x27;)&gt;,<br>Tr=&lt;Quantity(0, &#x27;inch&#x27;)&gt;,<br>Lr=&lt;Quantity(0, &#x27;inch&#x27;)&gt;,<br>d1=None,<br>*,<br>S,<br>E,<br>W,<br>Y)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def calculate_closure_reinforcement(Tp, tp, c, branch, P_diff, beta=Q_(&#39;90 deg&#39;),
                                 Tr=Q_(&#39;0 in&#39;), Lr=Q_(&#39;0 in&#39;), d1=None,
                                    *, S, E, W, Y):
    &#34;&#34;&#34;

    Tp : ureg.Quantity {length: 1}
        Plate thickness measured or minimum in accordance with purchase specification.
    tp : ureg.Quantity {length: 1}
        Pressure design thickness of the plate.
    &#34;&#34;&#34;
    result = _reinforcement_area(P_diff, float(&#39;inf&#39;)*ureg.m, Tp, tp, c, branch,
                                 beta, Tr, Lr, d1, S, E, W, Y)
    return result</code></pre>
</details>
<div class="desc"><p>Tp : ureg.Quantity {length: 1}
Plate thickness measured or minimum in accordance with purchase specification.
tp : ureg.Quantity {length: 1}
Pressure design thickness of the plate.</p></div>
</dd>
<dt id="CryoToolBox.piping.churchill"><code class="name flex">
<span>def <span class="ident">churchill</span></span>(<span>Re_, eps_r)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def churchill(Re_, eps_r):
    &#34;&#34;&#34;Calculate Darcy friction factor using modified Churchill formula.
    See 8.5.2 of &#34;Pipe flow, A Practical and Comprehensive Guide&#34;, Rennels,
    Hobart, Hudson, 2012.

    Parameters
    ----------
    Re_ : float or Quantity {dimensionless}
        Reynolds number
    eps_r : float or Quantity {dimensionless}
        Relative roughness of the pipe

    Returns
    -------
    float
        Darcy friction coefficient
    &#34;&#34;&#34;
    A1 = 0.883 * log(Re_)**1.282 / Re_**1.007
    A2 = 0.27 * eps_r
    A3 = - 110 * eps_r / Re_
    A = (0.8687 * log(A1+A2+A3))**16
    B = (13269 / Re_)**16
    f = ((64/Re_)**12 + 1/(A+B)**(3/2))**(1/12)
    return f</code></pre>
</details>
<div class="desc"><p>Calculate Darcy friction factor using modified Churchill formula.
See 8.5.2 of "Pipe flow, A Practical and Comprehensive Guide", Rennels,
Hobart, Hudson, 2012.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>Re_</code></strong> :&ensp;<code>float</code> or <code>Quantity {dimensionless}</code></dt>
<dd>Reynolds number</dd>
<dt><strong><code>eps_r</code></strong> :&ensp;<code>float</code> or <code>Quantity {dimensionless}</code></dt>
<dd>Relative roughness of the pipe</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>float</code></dt>
<dd>Darcy friction coefficient</dd>
</dl></div>
</dd>
<dt id="CryoToolBox.piping.dP_Darcy"><code class="name flex">
<span>def <span class="ident">dP_Darcy</span></span>(<span>K, rho, w)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def dP_Darcy(K, rho, w):
    &#39;&#39;&#39;
    Darcy equation for pressure drop.
    K - resistance coefficient
    rho - density of flow at entrance
    w - flow speed
    &#39;&#39;&#39;
    d_P = K*rho*w**2/2
    return d_P.to(ureg.psi)</code></pre>
</details>
<div class="desc"><p>Darcy equation for pressure drop.
K - resistance coefficient
rho - density of flow at entrance
w - flow speed</p></div>
</dd>
<dt id="CryoToolBox.piping.dP_adiab"><code class="name flex">
<span>def <span class="ident">dP_adiab</span></span>(<span>m_dot, fluid, pipe, state='total')</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def dP_adiab(m_dot, fluid, pipe, state=&#39;total&#39;):
    &#34;&#34;&#34;Calculate pressure drop for isentropic flow given total inlet conditions.

    &#34;&#34;&#34;
    if state == &#39;total&#39;:
        M = Mach_total(fluid, m_dot, pipe.area)
    elif state == &#39;static&#39;:
        v = velocity(fluid, m_dot, pipe.area)
        M = Mach(fluid, v)
    K_limit = K_lim(M, fluid.gamma)
    Re_ = Re(fluid, m_dot, pipe.ID, pipe.area)
    K_pipe = pipe.K(Re_)
    K_left = K_limit - K_pipe
    if K_left &lt; 0:
        raise ChokedFlow(f&#39;Flow is choked at K={float(K_limit):.3g} with given &#39;
                         f&#39;K={float(K_pipe):.3g}. Reduce hydraulic resistance or&#39;
                         &#39; mass flow.&#39;)
    M_end = M_Klim(K_left, fluid.gamma)
    # TODO This assumes isentropic flow, i.e., no friction. For adiabatic flow only Ttotal will be constant.
    # See White 9.3 for details.
    P_static_end = P_from_M(fluid.P, M, M_end, fluid.gamma)
    return fluid.P - P_static_end</code></pre>
</details>
<div class="desc"><p>Calculate pressure drop for isentropic flow given total inlet conditions.</p></div>
</dd>
<dt id="CryoToolBox.piping.dP_incomp"><code class="name flex">
<span>def <span class="ident">dP_incomp</span></span>(<span>m_dot, fluid, piping)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def dP_incomp(m_dot, fluid, piping):
    &#34;&#34;&#34;Calculate pressure drop of incompressible flow through piping.
    Lumped method using Darcy equation is used.
    &#34;&#34;&#34;
    P_0 = fluid.P
    T_0 = fluid.T
    rho_0 = fluid.Dmass
    K, area = K_piping(m_dot, fluid, piping)
    w = m_dot / (rho_0*area)
    return dP_Darcy(K, rho_0, w)</code></pre>
</details>
<div class="desc"><p>Calculate pressure drop of incompressible flow through piping.
Lumped method using Darcy equation is used.</p></div>
</dd>
<dt id="CryoToolBox.piping.dP_isot"><code class="name flex">
<span>def <span class="ident">dP_isot</span></span>(<span>m_dot, fluid, pipe, tol=1e-06)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def dP_isot(m_dot, fluid, pipe, tol=1e-6):
    &#34;&#34;&#34;Calculate pressure drop through piping for isothermal compressible
    flow.

    See 4.4 of &#34;Pipe flow, A Practical and Comprehensive Guide&#34;, Rennels,
    Hobart, Hudson, 2012.

    Parameters
    ----------
    m_dot : Quantity {mass: 1, time: -1}
        mass flow rate
    fluid : ThermState
        Inlet fluid conditions
    pipe : Pipe
    tol : float
        Accuracy of the calculation.

    Returns
    -------
    Quantity {length: -1, mass: 1, time: -2}
        Pressure drop
    &#34;&#34;&#34;
    R = fluid.specific_gas_constant
    T = fluid.T
    P1 = fluid.P
    A = pipe.area
    K = pipe.K(Re(fluid, m_dot, pipe.ID, pipe.area))
    P2 = P1
    converged = False
    while not converged:
        sq_diff = m_dot**2*R*T/A**2 * (2*log(P1/P2)+K)
        P2_new = (P1**2 - sq_diff)**0.5
        converged = abs(P2_new-P2)/P2_new
        P2 = P2_new
        v = m_dot / (fluid.Dmass*A)
        if Mach(fluid, v) &gt; 1/(fluid.gamma):
            raise ChokedFlow(&#39;K needs to be reduced to reach P2={P2:.3g~}&#39;)
    return P1 - P2</code></pre>
</details>
<div class="desc"><p>Calculate pressure drop through piping for isothermal compressible
flow.</p>
<p>See 4.4 of "Pipe flow, A Practical and Comprehensive Guide", Rennels,
Hobart, Hudson, 2012.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>m_dot</code></strong> :&ensp;<code>Quantity {mass: 1, time: -1}</code></dt>
<dd>mass flow rate</dd>
<dt><strong><code>fluid</code></strong> :&ensp;<code>ThermState</code></dt>
<dd>Inlet fluid conditions</dd>
<dt><strong><code>pipe</code></strong> :&ensp;<code><a title="CryoToolBox.piping.Pipe" href="#CryoToolBox.piping.Pipe">Pipe</a></code></dt>
<dd>&nbsp;</dd>
<dt><strong><code>tol</code></strong> :&ensp;<code>float</code></dt>
<dd>Accuracy of the calculation.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>Quantity {length: -1, mass: 1, time: -2}</code></dt>
<dd>Pressure drop</dd>
</dl></div>
</dd>
<dt id="CryoToolBox.piping.equivalent_orifice"><code class="name flex">
<span>def <span class="ident">equivalent_orifice</span></span>(<span>m_dot, dP, fluid=&lt;CryoToolBox.cp_wrapper.ThermState object&gt;)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def equivalent_orifice(m_dot, dP, fluid=AIR):
    &#34;&#34;&#34;
    Calculate ID for the equivalent square edge orifice (Cd = 0.61) for given
    flow and pressure drop.
    &#34;&#34;&#34;
    Cd = 0.61
    rho = fluid.Dmass
    ID = 2 * (m_dot/(pi*Cd*(2*dP*rho)**0.5))**0.5
    return ID.to(ureg.inch)</code></pre>
</details>
<div class="desc"><p>Calculate ID for the equivalent square edge orifice (Cd = 0.61) for given
flow and pressure drop.</p></div>
</dd>
<dt id="CryoToolBox.piping.f_Darcy"><code class="name flex">
<span>def <span class="ident">f_Darcy</span></span>(<span>Re_, eps_r, method='churchill')</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def f_Darcy(Re_, eps_r, method=&#39;churchill&#39;):
    &#34;&#34;&#34;Calculate Darcy friction factor using Serghide solution to
    Colebrook equation.

    See Crane TP-410 2013, equation 6-6.

    Parameters
    ----------
    Re_ : float or Quantity {dimensionless}
        Reynolds number
    eps_r : float or Quantity {dimensionless}
        Absolute roughness of the pipe
    method : str
        Friction factor formula name

    Returns
    -------
    float
        Darcy friction coefficient
    &#34;&#34;&#34;
    if Re_ &lt;= 2100:
        return 64 / Re_
    if method == &#39;churchill&#39;:
        return churchill(Re_, eps_r)
    elif method == &#39;serghide&#39;:
        return serghide(Re_, eps_r)</code></pre>
</details>
<div class="desc"><p>Calculate Darcy friction factor using Serghide solution to
Colebrook equation.</p>
<p>See Crane TP-410 2013, equation 6-6.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>Re_</code></strong> :&ensp;<code>float</code> or <code>Quantity {dimensionless}</code></dt>
<dd>Reynolds number</dd>
<dt><strong><code>eps_r</code></strong> :&ensp;<code>float</code> or <code>Quantity {dimensionless}</code></dt>
<dd>Absolute roughness of the pipe</dd>
<dt><strong><code>method</code></strong> :&ensp;<code>str</code></dt>
<dd>Friction factor formula name</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>float</code></dt>
<dd>Darcy friction coefficient</dd>
</dl></div>
</dd>
<dt id="CryoToolBox.piping.m_dot_adiab"><code class="name flex">
<span>def <span class="ident">m_dot_adiab</span></span>(<span>fluid,<br>pipe,<br>P_out=&lt;Quantity(14.696, &#x27;pound_force_per_square_inch&#x27;)&gt;,<br>state='total')</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def m_dot_adiab(fluid, pipe, P_out=P_NTP, state=&#39;total&#39;):
    &#34;&#34;&#34;Calculate mass flow rate through piping for adiabatic compressible
    flow.

    Parameters
    ----------
    fluid : ThermState
        Inlet fluid conditions
    pipe : Pipe
    P_out : Quantity {length: -1, mass: 1, time: -2}
        Outlet pressure

    Returns
    -------
    Quantity {mass: 1, time: -1}
        mass flow rate
    &#34;&#34;&#34;
    k = fluid.gamma
    P1 = fluid.P
    P2 = P_out

    def to_solve(m_dot_):
        m_dot = m_dot_ * ureg.kg/ureg.s
        if state == &#39;total&#39;:
            try:
                M1 = Mach_total(fluid, m_dot, pipe.area)
            except HydraulicError:
                return -1
        elif state == &#39;static&#39;:
            v = velocity(fluid, m_dot, pipe.area)
            M1 = Mach(fluid, v)
        P_crit1_ = P_crit(P1, M1, k).m_as(ureg.Pa)
        K_lim1 = K_lim(M1, k)
        Re_ = Re(fluid, m_dot, pipe.ID, pipe.area)
        K_lim2 = K_lim1 - pipe.K(Re_)
        if K_lim2 &lt; 0:
            return -1
        M2 = M_Klim(K_lim2, k)
        P_crit2_ = P_crit(P2, M2, k).m_as(ureg.Pa)
        # TODO Only true for isentropic flow, for adiabatic Tcrit should be used
        result = P_crit1_ - P_crit2_
        return result
    bracket = [1e-10, 1e10]  # Limits search range
    solution = root_scalar(to_solve, bracket=bracket)
    m_dot = solution.root * ureg.kg/ureg.s
    return m_dot</code></pre>
</details>
<div class="desc"><p>Calculate mass flow rate through piping for adiabatic compressible
flow.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>fluid</code></strong> :&ensp;<code>ThermState</code></dt>
<dd>Inlet fluid conditions</dd>
<dt><strong><code>pipe</code></strong> :&ensp;<code><a title="CryoToolBox.piping.Pipe" href="#CryoToolBox.piping.Pipe">Pipe</a></code></dt>
<dd>&nbsp;</dd>
<dt><strong><code>P_out</code></strong> :&ensp;<code>Quantity {length: -1, mass: 1, time: -2}</code></dt>
<dd>Outlet pressure</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>Quantity {mass: 1, time: -1}</code></dt>
<dd>mass flow rate</dd>
</dl></div>
</dd>
<dt id="CryoToolBox.piping.m_dot_incomp"><code class="name flex">
<span>def <span class="ident">m_dot_incomp</span></span>(<span>fluid,<br>piping,<br>P_out=&lt;Quantity(14.696, &#x27;pound_force_per_square_inch&#x27;)&gt;,<br>guess=&lt;Quantity(1.0, &#x27;gram / second&#x27;)&gt;)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def m_dot_incomp(fluid, piping, P_out=P_NTP, guess=1*ureg.g/ureg.s):
    &#39;&#39;&#39;Calculate mass flow through the piping using initial conditions
    at the beginning of piping.

    Calculation is based on Crane TP-410, p. 1.9.
    Net expansion factor Y is conservatively assumed as 1.
    Mass flow is calculated using Darcy equation.

    Parameters
    ----------
    P_out : ureg.Quantity {length: -1, mass: 1, time: -1}
        Exit pressure of the piping.
    guess : ureg.Quantity {mass: 1, time: -1}
        guess value for the mass flow rate

    Returns
    -------
    ureg.Quantity : {mass: 1, time: -1}
    &#39;&#39;&#39;
    P_0 = fluid.P
    if P_0 &lt;= P_out:
        raise HydraulicError(f&#39;Input pressure less or equal to output: \
        {P_0.to(ureg.Pa):.3g}, {P_out.to(ureg.Pa):.3g}&#39;)
    def to_solve(m_dot_gs, P_in_Pa, P_out_Pa):
        dP_calc = dP_incomp(m_dot_gs*ureg.g/ureg.s, fluid, piping)
        dP_given = P_in_Pa - P_out_Pa
        return dP_given - dP_calc.m_as(ureg.Pa)
    P_in_Pa = P_0.m_as(ureg.Pa)
    P_out_Pa = P_out.m_as(ureg.Pa)
    args = (P_in_Pa, P_out_Pa)  # arguments passed to to_solve
    x0 = guess.m_as(ureg.g/ureg.s)
    x1 = x0 * 2  # Usually doubling the flow is OK estimate
    solution = root_scalar(to_solve, args, x0=x0, x1=x1)
    m_dot_ = solution.root * ureg.g/ureg.s
    return m_dot_</code></pre>
</details>
<div class="desc"><p>Calculate mass flow through the piping using initial conditions
at the beginning of piping.</p>
<p>Calculation is based on Crane TP-410, p. 1.9.
Net expansion factor Y is conservatively assumed as 1.
Mass flow is calculated using Darcy equation.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>P_out</code></strong> :&ensp;<code>ureg.Quantity {length: -1, mass: 1, time: -1}</code></dt>
<dd>Exit pressure of the piping.</dd>
<dt><strong><code>guess</code></strong> :&ensp;<code>ureg.Quantity {mass: 1, time: -1}</code></dt>
<dd>guess value for the mass flow rate</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>ureg.Quantity : {mass: 1, time: -1}</code></dt>
<dd>&nbsp;</dd>
</dl></div>
</dd>
<dt id="CryoToolBox.piping.m_dot_isot"><code class="name flex">
<span>def <span class="ident">m_dot_isot</span></span>(<span>fluid,<br>pipe,<br>P_out=&lt;Quantity(14.696, &#x27;pound_force_per_square_inch&#x27;)&gt;,<br>m_dot_g=&lt;Quantity(1.0, &#x27;gram / second&#x27;)&gt;,<br>tol=1e-06)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def m_dot_isot(fluid, pipe, P_out=P_NTP, m_dot_g=1*ureg.g/ureg.s, tol=1e-6):
    &#34;&#34;&#34;Calculate mass flow rate through piping for isothermal compressible
    flow.

    See 4.4 of &#34;Pipe flow, A Practical and Comprehensive Guide&#34;, Rennels,
    Hobart, Hudson, 2012.

    Parameters
    ----------
    fluid : ThermState
        Inlet fluid conditions
    pipe : Pipe
    P_out : ureg.Quantity {length: -1, mass: 1, time: -1}
        Exit pressure of the piping.

    Returns
    -------
    Quantity {length: -1, mass: 1, time: -2}
        Pressure drop
    &#34;&#34;&#34;
    P1 = fluid.P
    P2 = P_out
    T = fluid.T
    R = fluid.specific_gas_constant
    K = pipe.K(Re(fluid, m_dot_g, pipe.ID, pipe.area))
    A = pipe.area
    m_dot = A * ((P1**2-P2**2)/(R*T*(2*log(P1/P2)+K)))**0.5
    if abs(m_dot-m_dot_g)/m_dot &gt; tol:
        m_dot = m_dot_isot(fluid, pipe, P_out, m_dot, tol)
    return m_dot.to(ureg.g/ureg.s)</code></pre>
</details>
<div class="desc"><p>Calculate mass flow rate through piping for isothermal compressible
flow.</p>
<p>See 4.4 of "Pipe flow, A Practical and Comprehensive Guide", Rennels,
Hobart, Hudson, 2012.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>fluid</code></strong> :&ensp;<code>ThermState</code></dt>
<dd>Inlet fluid conditions</dd>
<dt><strong><code>pipe</code></strong> :&ensp;<code><a title="CryoToolBox.piping.Pipe" href="#CryoToolBox.piping.Pipe">Pipe</a></code></dt>
<dd>&nbsp;</dd>
<dt><strong><code>P_out</code></strong> :&ensp;<code>ureg.Quantity {length: -1, mass: 1, time: -1}</code></dt>
<dd>Exit pressure of the piping.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>Quantity {length: -1, mass: 1, time: -2}</code></dt>
<dd>Pressure drop</dd>
</dl></div>
</dd>
<dt id="CryoToolBox.piping.piping_stored_energy"><code class="name flex">
<span>def <span class="ident">piping_stored_energy</span></span>(<span>fluid, piping)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def piping_stored_energy(fluid, piping):
    &#34;&#34;&#34;Calculate stored energy of the piping.

    Uses 8 diameters rule as per ASME PCC-2 2018 501-IV-3 (a).&#34;&#34;&#34;
    volume = 0 * ureg.m**3
    for tube in piping:
        # Smaller of 8*ID and actual length
        length = min(tube.L, 8*tube.ID)
        area = circle_area(tube.ID)
        volume = max(volume, area*length)
    return stored_energy(fluid, volume)</code></pre>
</details>
<div class="desc"><p>Calculate stored energy of the piping.</p>
<p>Uses 8 diameters rule as per ASME PCC-2 2018 501-IV-3 (a).</p></div>
</dd>
<dt id="CryoToolBox.piping.piping_stress"><code class="name flex">
<span>def <span class="ident">piping_stress</span></span>(<span>tube, P_diff, *, E, W, Y)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def piping_stress(tube, P_diff, *, E, W, Y):
    &#34;&#34;&#34;Calculate piping stress for given pressure and pipe material.

    Based on B31.3 304.1.

    Parameters
    ----------
    P_diff : ureg.Quantity {length: -1, mass: 1, time: -2}
        Differential internal pressure, absolute

    Returns
    -------
    ureg.Quantity {mass: 1, length: -1, time: -2}
        Piping stress
    &#34;&#34;&#34;
    logger.warning(&#39;Deprecated.&#39;)
    P = P_diff
    D = tube.OD
    t = tube.wall - tube.c
    S = P / (E*W) * (D/(2*t) - Y)
    return S.to(ureg.psi)</code></pre>
</details>
<div class="desc"><p>Calculate piping stress for given pressure and pipe material.</p>
<p>Based on B31.3 304.1.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>P_diff</code></strong> :&ensp;<code>ureg.Quantity {length: -1, mass: 1, time: -2}</code></dt>
<dd>Differential internal pressure, absolute</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>ureg.Quantity {mass: 1, length: -1, time: -2}</code></dt>
<dd>Piping stress</dd>
</dl></div>
</dd>
<dt id="CryoToolBox.piping.pressure_design_thick"><code class="name flex">
<span>def <span class="ident">pressure_design_thick</span></span>(<span>tube, P_diff, I=1, *, S, E, W, Y)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def pressure_design_thick(tube, P_diff, I=1, *, S, E, W, Y):
    logger.warning(&#39;Deprecated, use pressure_req_thick function instead.&#39;)
    return pressure_req_thick(tube, P_diff, I, S=S, E=E, W=W, Y=Y)</code></pre>
</details>
<div class="desc"></div>
</dd>
<dt id="CryoToolBox.piping.pressure_rating"><code class="name flex">
<span>def <span class="ident">pressure_rating</span></span>(<span>tube, *, S, E, W, Y)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def pressure_rating(tube, *, S, E, W, Y):
    &#34;&#34;&#34;Calculate internal pressure rating.

    Based on B31.3 304.1.

    Returns
    -------
    ureg.Quantity {length: 1}
        Minimum required wall thickness.
    &#34;&#34;&#34;
    D = tube.OD
    t = tube.T - tube.c
    P = 2 * t * S * E * W / (D-2*Y*t)
    return P.to(ureg.psi)</code></pre>
</details>
<div class="desc"><p>Calculate internal pressure rating.</p>
<p>Based on B31.3 304.1.</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>ureg.Quantity {length: 1}</code></dt>
<dd>Minimum required wall thickness.</dd>
</dl></div>
</dd>
<dt id="CryoToolBox.piping.pressure_req_thick"><code class="name flex">
<span>def <span class="ident">pressure_req_thick</span></span>(<span>tube, P_diff, I=1, *, S, E, W, Y)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def pressure_req_thick(tube, P_diff, I=1, *, S, E, W, Y):
    &#34;&#34;&#34;
    Calculate minimum required thickness for given pressure and tube and material
    based on B31.3 304.1.

    Parameters
    ----------
    tube : Tube
    P_diff : ureg.Quantity {length: -1, mass: 1, time: -2}
        Differential internal pressure.
    I : float, optional
       Pipe bend coefficient per 304.2.1; for a straight pipe equals 1.
    S : ureg.Quantity {length: -1, mass: 1, time: -2}
        Stress value for material from Table A-1A/A-1B.
    E : float
        Quality factor from Table A-1A/A-1B.
    W : float
        Weld joint strength reduction factor in accordance with 302.3.5(e).
    Y : float
        Coefficient from Table 304.1.1.

    Returns
    -------
    ureg.Quantity {length: 1}
        Minimum required wall thickness.

    Notes
    -----
    The formula for calculating the required thickness is:

    .. math:: t_m = \\frac{P D}{2 (S E W/I + P Y)} + c

    where:
      - \( t \) is the minimum required wall thickness,
      - \( P \) is the differential internal pressure,
      - \( D \) is the outside diameter of the tube,
      - \( S \) is the allowable stress of the material,
      - \( E \) is the quality factor,
      - \( W \) is the weld joint strength reduction factor,
      - \( I \) is the pipe bend coefficient.
      - \( Y \) is the coefficient from Table 304.1.1.

    If the calculated thickness \( t \) is greater than or equal to \( D/6 \) or if \( P/(S E) \) is greater than 0.385, the design thickness must be calculated in accordance with B31.3 304.1.2 (b).

    Examples
    --------
    &gt;&gt;&gt; import CryoToolBox as ctb
    &gt;&gt;&gt; u = ctb.ureg
    &gt;&gt;&gt; tube = ctb.piping.Tube(4*u.inch, wall=0.065*u.inch, c=0.125*u.inch)
    &gt;&gt;&gt; P_diff = 200 * u.psi
    &gt;&gt;&gt; S = 20000 * u.psi
    &gt;&gt;&gt; E = 0.85
    &gt;&gt;&gt; W = 1.0
    &gt;&gt;&gt; Y = 0.4
    &gt;&gt;&gt; pressure_req_thick(tube, P_diff, 1, S=S, E=E, W=W, Y=Y)
    &lt;Quantity(0.148419204, &#39;inch&#39;)&gt;
    &#34;&#34;&#34;
    D = tube.OD
    P = P_diff.to_base_units()
    t = P * D / (2*(S*E*W/I + P*Y))
    if (t &gt;= D/6) or (P/(S*E)) &gt; 0.385:
        logger.error(&#39;Calculate design thickness in accordance \
        with B31.3 304.1.2 (b)&#39;)
        return None
    tm = t + tube.c
    return tm.to(ureg.inch)</code></pre>
</details>
<div class="desc"><p>Calculate minimum required thickness for given pressure and tube and material
based on B31.3 304.1.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>tube</code></strong> :&ensp;<code><a title="CryoToolBox.piping.Tube" href="#CryoToolBox.piping.Tube">Tube</a></code></dt>
<dd>&nbsp;</dd>
<dt><strong><code>P_diff</code></strong> :&ensp;<code>ureg.Quantity {length: -1, mass: 1, time: -2}</code></dt>
<dd>Differential internal pressure.</dd>
<dt><strong><code>I</code></strong> :&ensp;<code>float</code>, optional</dt>
<dd>&nbsp;</dd>
<dt>Pipe bend coefficient per 304.2.1; for a straight pipe equals 1.</dt>
<dt><strong><code>S</code></strong> :&ensp;<code>ureg.Quantity {length: -1, mass: 1, time: -2}</code></dt>
<dd>Stress value for material from Table A-1A/A-1B.</dd>
<dt><strong><code>E</code></strong> :&ensp;<code>float</code></dt>
<dd>Quality factor from Table A-1A/A-1B.</dd>
<dt><strong><code>W</code></strong> :&ensp;<code>float</code></dt>
<dd>Weld joint strength reduction factor in accordance with 302.3.5(e).</dd>
<dt><strong><code>Y</code></strong> :&ensp;<code>float</code></dt>
<dd>Coefficient from Table 304.1.1.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>ureg.Quantity {length: 1}</code></dt>
<dd>Minimum required wall thickness.</dd>
</dl>
<h2 id="notes">Notes</h2>
<p>The formula for calculating the required thickness is:</p>
<p>[
]</p>
<p>where:
- ( t ) is the minimum required wall thickness,
- ( P ) is the differential internal pressure,
- ( D ) is the outside diameter of the tube,
- ( S ) is the allowable stress of the material,
- ( E ) is the quality factor,
- ( W ) is the weld joint strength reduction factor,
- ( I ) is the pipe bend coefficient.
- ( Y ) is the coefficient from Table 304.1.1.</p>
<p>If the calculated thickness ( t ) is greater than or equal to ( D/6 ) or if ( P/(S E) ) is greater than 0.385, the design thickness must be calculated in accordance with B31.3 304.1.2 (b).</p>
<h2 id="examples">Examples</h2>
<pre><code class="language-python-repl">&gt;&gt;&gt; import CryoToolBox as ctb
&gt;&gt;&gt; u = ctb.ureg
&gt;&gt;&gt; tube = ctb.piping.Tube(4*u.inch, wall=0.065*u.inch, c=0.125*u.inch)
&gt;&gt;&gt; P_diff = 200 * u.psi
&gt;&gt;&gt; S = 20000 * u.psi
&gt;&gt;&gt; E = 0.85
&gt;&gt;&gt; W = 1.0
&gt;&gt;&gt; Y = 0.4
&gt;&gt;&gt; pressure_req_thick(tube, P_diff, 1, S=S, E=E, W=W, Y=Y)
&lt;Quantity(0.148419204, 'inch')&gt;
</code></pre></div>
</dd>
<dt id="CryoToolBox.piping.rc"><code class="name flex">
<span>def <span class="ident">rc</span></span>(<span>fluid)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def rc(fluid):
    &#34;&#34;&#34;Calculate critical pressure drop for the given fluid.&#34;&#34;&#34;
    k = fluid.gamma
    rc = (2/(k+1))**(k/(k-1))
    return rc</code></pre>
</details>
<div class="desc"><p>Calculate critical pressure drop for the given fluid.</p></div>
</dd>
<dt id="CryoToolBox.piping.serghide"><code class="name flex">
<span>def <span class="ident">serghide</span></span>(<span>Re_, eps_r)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def serghide(Re_, eps_r):
    &#34;&#34;&#34;Calculate Darcy friction factor using Serghide solution to
    Colebrook equation.

    See Crane TP-410 2013, equation 6-6.

    Parameters
    ----------
    Re_ : float or Quantity {dimensionless}
        Reynolds number
    eps_r : float or Quantity {dimensionless}
        Relative roughness of the pipe

    Returns
    -------
    float
        Darcy friction coefficient
    &#34;&#34;&#34;
    A = -2 * log10(eps_r/3.7+12/Re_)
    B = -2 * log10(eps_r/3.7+2.51*A/Re_)
    C = -2 * log10(eps_r/3.7+2.51*B/Re_)
    f = (A - (B-A)**2/(C-2*B+A))**(-2)
    return f</code></pre>
</details>
<div class="desc"><p>Calculate Darcy friction factor using Serghide solution to
Colebrook equation.</p>
<p>See Crane TP-410 2013, equation 6-6.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>Re_</code></strong> :&ensp;<code>float</code> or <code>Quantity {dimensionless}</code></dt>
<dd>Reynolds number</dd>
<dt><strong><code>eps_r</code></strong> :&ensp;<code>float</code> or <code>Quantity {dimensionless}</code></dt>
<dd>Relative roughness of the pipe</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>float</code></dt>
<dd>Darcy friction coefficient</dd>
</dl></div>
</dd>
<dt id="CryoToolBox.piping.velocity"><code class="name flex">
<span>def <span class="ident">velocity</span></span>(<span>fluid, m_dot, area)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def velocity(fluid, m_dot, area):
    &#34;&#34;&#34;Calculate velocity of fluid with given local parameters.&#34;&#34;&#34;

    return m_dot/(area*fluid.Dmass)</code></pre>
</details>
<div class="desc"><p>Calculate velocity of fluid with given local parameters.</p></div>
</dd>
<dt id="CryoToolBox.piping.volume"><code class="name flex">
<span>def <span class="ident">volume</span></span>(<span>piping)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def volume(piping):
    &#34;&#34;&#34;Calculate volume inside piping.&#34;&#34;&#34;
    result = []
    pipe_type = (Pipe, VJPipe, CorrugatedPipe, Tube, Annulus, Elbow)
    # TODO remove elbows and tees after merge
    for pipe in piping:
        if isinstance(pipe, pipe_type):
            result.append((str(pipe),
                            f&#39;{pipe.L.to(ureg.ft).magnitude:.3g}&#39;,
                            f&#39;{pipe.volume.to(ureg.ft**3).magnitude:.3g}&#39;))
    return result</code></pre>
</details>
<div class="desc"><p>Calculate volume inside piping.</p></div>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="CryoToolBox.piping.Annulus"><code class="flex name class">
<span>class <span class="ident">Annulus</span></span>
<span>(</span><span>D1,<br>D2,<br>L=&lt;Quantity(0, &#x27;meter&#x27;)&gt;,<br>eps=&lt;Quantity(0.0018, &#x27;inch&#x27;)&gt;)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Annulus(PipingElement):
    &#34;&#34;&#34;&#34;Annulus or tube in tube.

    Parameters
    ----------
    D1 : ureg.Quantity {length: 1}
        ID of the outer tube.
    D2 : ureg.Quantity {length: 1}
        OD of the inner tube.
    L : ureg.Quantity {length: 1}
        Length of the annulus tube.
    &#34;&#34;&#34;
    def __init__(self, D1, D2, L=Q_(&#39;0m&#39;), eps=0.0018*ureg.inch):
        self.D1 = D1
        self.D2 = D2
        assert D1 &gt; D2, &#39;D1 should be larger than D2&#39;
        self.L = L
        assert D1 &gt; D2
        self._area = pi / 4 * (D1**2 - D2**2)
        self.volume = self.area * L
        self.ID = D1 - D2  # Hydraulic diameter
        self.eps = eps

    @property
    def area(self):
        return self._area

    def K(self, Re_):
        return Tube.K(self, Re_)

    def __str__(self):
        return f&#39;Annulus D1={self.D1:.3g~}, D2={self.D2:.3g~}, L={self.L:.3g~}&#39;

    # def __str__(self):
    #     return f&#39;{self.D1:.3g~} x {self.D2:.3g~} annulus&#39;</code></pre>
</details>
<div class="desc"><p>"Annulus or tube in tube.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>D1</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>ID of the outer tube.</dd>
<dt><strong><code>D2</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>OD of the inner tube.</dd>
<dt><strong><code>L</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Length of the annulus tube.</dd>
</dl></div>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="CryoToolBox.piping.PipingElement" href="#CryoToolBox.piping.PipingElement">PipingElement</a></li>
<li>abc.ABC</li>
</ul>
<h3>Instance variables</h3>
<dl>
<dt id="CryoToolBox.piping.Annulus.area"><code class="name">prop <span class="ident">area</span></code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def area(self):
    return self._area</code></pre>
</details>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="CryoToolBox.piping.Annulus.K"><code class="name flex">
<span>def <span class="ident">K</span></span>(<span>self, Re_)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def K(self, Re_):
    return Tube.K(self, Re_)</code></pre>
</details>
<div class="desc"></div>
</dd>
</dl>
</dd>
<dt id="CryoToolBox.piping.ChokedFlow"><code class="flex name class">
<span>class <span class="ident">ChokedFlow</span></span>
<span>(</span><span>message)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class ChokedFlow(HydraulicError):
    def __init__(self, message):
        self.message = message
        super().__init__(message)</code></pre>
</details>
<div class="desc"><p>Common base class for all non-exit exceptions.</p></div>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="CryoToolBox.piping.HydraulicError" href="#CryoToolBox.piping.HydraulicError">HydraulicError</a></li>
<li>builtins.Exception</li>
<li>builtins.BaseException</li>
</ul>
</dd>
<dt id="CryoToolBox.piping.ConicOrifice"><code class="flex name class">
<span>class <span class="ident">ConicOrifice</span></span>
<span>(</span><span>D, ID)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class ConicOrifice(Orifice):
    &#34;&#34;&#34;Conic orifice
    &#34;&#34;&#34;
    def __init__(self, D, ID):
        &#34;&#34;&#34;Generate conic orifice.

        Parameters
        ----------
        D :
        ID : ureg.Quantity {length: 1}
            Inside diameter of the orifice.
        &#34;&#34;&#34;
        super().__init__(ID)
        if NPS_table[D][&#39;OD&#39;] &gt;= 1*ureg.inch:
            # For a smaller diameter using value for
            # square-edged plate (unfounded assumption)
            self.Cd = 0.73
            # Flow Measurements Engineering Handbook, Table 9.1, p. 9.16
        self.type = &#39;Conic orifice&#39;

    def __str__(self):
        return f&#39;Conic orifice, {self.ID:.3g~}&#39;

    # def __str__(self):
    #     return f&#39;{self.ID:.3g~} conic orifice&#39;</code></pre>
</details>
<div class="desc"><p>Conic orifice</p>
<p>Generate conic orifice.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt>D :</dt>
<dt><strong><code>ID</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Inside diameter of the orifice.</dd>
</dl></div>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="CryoToolBox.piping.Orifice" href="#CryoToolBox.piping.Orifice">Orifice</a></li>
<li><a title="CryoToolBox.piping.PipingElement" href="#CryoToolBox.piping.PipingElement">PipingElement</a></li>
<li>abc.ABC</li>
</ul>
</dd>
<dt id="CryoToolBox.piping.Contraction"><code class="flex name class">
<span>class <span class="ident">Contraction</span></span>
<span>(</span><span>ID1, ID2, theta=&lt;Quantity(180, &#x27;degree&#x27;)&gt;)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Contraction(PipingTransition):
    &#34;&#34;&#34;
    Sudden and gradual pipe contraction fitting based on Crane TP-410.

    This class represents pipe contractions that reduce flow area from a larger
    upstream pipe to a smaller downstream pipe. The pressure loss coefficient
    is calculated based on the contraction angle and diameter ratio according
    to Crane TP-410 standards.

    Parameters
    ----------
    ID1 : ureg.Quantity {length: 1}
        Inside diameter of upstream (larger) pipe.
    ID2 : ureg.Quantity {length: 1}
        Inside diameter of downstream (smaller) pipe.
    theta : ureg.Quantity {dimensionless}, optional
        Total contraction angle (included angle), by default 180°.
        Valid range is 0° &lt; theta ≤ 180°.

    Attributes
    ----------
    beta : float
        Diameter ratio (ID2/ID1), dimensionless.
    theta : ureg.Quantity {dimensionless}
        Contraction angle.
    type : str
        Element type identifier.
    ID1 : ureg.Quantity {length: 1}
        Upstream pipe inside diameter.
    ID2 : ureg.Quantity {length: 1}
        Downstream pipe inside diameter.
    ID : ureg.Quantity {length: 1}
        Minimum (downstream) inside diameter.
    L : ureg.Quantity {length: 1}
        Axial length of contraction.
    volume : ureg.Quantity {length: 3}
        Internal volume of the contraction.

    Notes
    -----
    The pressure loss coefficient K is calculated using different formulas
    depending on the contraction angle:

    For θ ≤ 45°:
    .. math:: K = 0.8 \\sin(\\theta/2) (1 - \\beta^2)

    For 45° &lt; θ ≤ 180°:
    .. math:: K = 0.5 (1 - \\beta^2) \\sqrt{\\sin(\\theta/2)}

    Where β = ID2/ID1 is the diameter ratio.

    The axial length is calculated as:
    .. math:: L = \\frac{|ID_1 - ID_2|}{2 \\tan(\\theta/2)}

    References
    ----------
    Crane Technical Paper No. 410 (TP-410), Flow of Fluids Through Valves,
    Fittings, and Pipe, Section A-26.

    Examples
    --------
    &gt;&gt;&gt; import CryoToolBox as ctb
    &gt;&gt;&gt; u = ctb.ureg
    &gt;&gt;&gt; # Sudden contraction from 4&#34; to 2&#34; pipe
    &gt;&gt;&gt; contraction = ctb.piping.Contraction(4*u.inch, 2*u.inch)
    &gt;&gt;&gt; contraction.beta
    0.5
    &gt;&gt;&gt; contraction.K()
    0.375

    &gt;&gt;&gt; # Gradual 30° contraction
    &gt;&gt;&gt; gradual = ctb.piping.Contraction(4*u.inch, 2*u.inch, 30*u.deg)
    &gt;&gt;&gt; gradual.K()
    0.1552...
    &#34;&#34;&#34;

    def __init__(self, ID1, ID2, theta=ureg(&#39;180 deg&#39;)):
        &#34;&#34;&#34;
        Initialize contraction fitting.

        Parameters
        ----------
        ID1 : ureg.Quantity {length: 1}
            Inside diameter of upstream pipe.
        ID2 : ureg.Quantity {length: 1}
            Inside diameter of downstream pipe.
        theta : ureg.Quantity {dimensionless}, optional
            Contraction angle, by default 180°.

        Raises
        ------
        ValueError
            If ID1 &lt;= ID2 (not a contraction).
            If theta is outside valid range (0°, 180°].
        &#34;&#34;&#34;
        # Input validation
        if ID1 &lt;= ID2:
            raise ValueError(f&#34;ID1 ({ID1}) must be greater than ID2 ({ID2}) &#34;
                           &#34;for a contraction&#34;)

        if theta &lt;= 0*ureg.deg or theta &gt; 180*ureg.deg:
            raise ValueError(f&#34;Contraction angle must be in range (0°, 180°], &#34;
                           f&#34;got {theta}&#34;)

        self._init_transition(ID1, ID2, theta, &#39;Contraction&#39;)

    @property
    def area(self):
        &#34;&#34;&#34;
        Cross-sectional area of the downstream (smaller) pipe.

        Returns
        -------
        ureg.Quantity {length: 2}
            Flow area based on downstream diameter.
        &#34;&#34;&#34;
        return self._area

    def K(self, Re=None):
        &#34;&#34;&#34;
        Calculate pressure loss coefficient for the contraction.

        Parameters
        ----------
        Re : float, optional
            Reynolds number. Currently not implemented but reserved
            for future Reynolds number corrections.

        Returns
        -------
        float
            Dimensionless pressure loss coefficient based on downstream
            velocity head.

        Notes
        -----
        The loss coefficient is calculated using Crane TP-410 formulas:

        - For θ ≤ 45°: K = 0.8 sin(θ/2) (1 - β²)
        - For θ &gt; 45°: K = 0.5 (1 - β²) √sin(θ/2)

        Where β = ID2/ID1 is the diameter ratio.

        Raises
        ------
        ValueError
            If theta &gt; 180° (invalid contraction angle).

        Examples
        --------
        &gt;&gt;&gt; import CryoToolBox as ctb
        &gt;&gt;&gt; u = ctb.ureg
        &gt;&gt;&gt; contraction = Contraction(4*u.inch, 2*u.inch, 90*u.deg)
        &gt;&gt;&gt; contraction.K()
        0.3153...
        &#34;&#34;&#34;
        # TODO: Add Re handling for Reynolds number corrections
        if Re is not None:
            logger.warning(&#34;Reynolds number correction not yet implemented&#34;)

        if self.theta &lt;= 45*ureg.deg:
            # Crane TP-410 A-26, Formula 1 for gradual contractions
            K_ = 0.8 * sin(self.theta/2) * (1 - self.beta**2)
        elif self.theta &lt;= 180*ureg.deg:
            # Crane TP-410 A-26, Formula 2 for sudden contractions
            K_ = 0.5 * (1 - self.beta**2) * sqrt(sin(self.theta/2))
        else:
            raise ValueError(f&#39;Contraction angle cannot exceed 180°, &#39;
                           f&#39;got {self.theta.to(ureg.deg)}&#39;)

        return float(K_)</code></pre>
</details>
<div class="desc"><p>Sudden and gradual pipe contraction fitting based on Crane TP-410.</p>
<p>This class represents pipe contractions that reduce flow area from a larger
upstream pipe to a smaller downstream pipe. The pressure loss coefficient
is calculated based on the contraction angle and diameter ratio according
to Crane TP-410 standards.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>ID1</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Inside diameter of upstream (larger) pipe.</dd>
<dt><strong><code>ID2</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Inside diameter of downstream (smaller) pipe.</dd>
<dt><strong><code>theta</code></strong> :&ensp;<code>ureg.Quantity {dimensionless}</code>, optional</dt>
<dd>Total contraction angle (included angle), by default 180°.
Valid range is 0° &lt; theta ≤ 180°.</dd>
</dl>
<h2 id="attributes">Attributes</h2>
<dl>
<dt><strong><code>beta</code></strong> :&ensp;<code>float</code></dt>
<dd>Diameter ratio (ID2/ID1), dimensionless.</dd>
<dt><strong><code>theta</code></strong> :&ensp;<code>ureg.Quantity {dimensionless}</code></dt>
<dd>Contraction angle.</dd>
<dt><strong><code>type</code></strong> :&ensp;<code>str</code></dt>
<dd>Element type identifier.</dd>
<dt><strong><code>ID1</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Upstream pipe inside diameter.</dd>
<dt><strong><code>ID2</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Downstream pipe inside diameter.</dd>
<dt><strong><code>ID</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Minimum (downstream) inside diameter.</dd>
<dt><strong><code>L</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Axial length of contraction.</dd>
<dt><strong><code>volume</code></strong> :&ensp;<code>ureg.Quantity {length: 3}</code></dt>
<dd>Internal volume of the contraction.</dd>
</dl>
<h2 id="notes">Notes</h2>
<p>The pressure loss coefficient K is calculated using different formulas
depending on the contraction angle:</p>
<p>For θ ≤ 45°:
[
]</p>
<p>For 45° &lt; θ ≤ 180°:
[
]</p>
<p>Where β = ID2/ID1 is the diameter ratio.</p>
<p>The axial length is calculated as:
[
]</p>
<h2 id="references">References</h2>
<p>Crane Technical Paper No. 410 (TP-410), Flow of Fluids Through Valves,
Fittings, and Pipe, Section A-26.</p>
<h2 id="examples">Examples</h2>
<pre><code class="language-python-repl">&gt;&gt;&gt; import CryoToolBox as ctb
&gt;&gt;&gt; u = ctb.ureg
&gt;&gt;&gt; # Sudden contraction from 4&quot; to 2&quot; pipe
&gt;&gt;&gt; contraction = ctb.piping.Contraction(4*u.inch, 2*u.inch)
&gt;&gt;&gt; contraction.beta
0.5
&gt;&gt;&gt; contraction.K()
0.375
</code></pre>
<pre><code class="language-python-repl">&gt;&gt;&gt; # Gradual 30° contraction
&gt;&gt;&gt; gradual = ctb.piping.Contraction(4*u.inch, 2*u.inch, 30*u.deg)
&gt;&gt;&gt; gradual.K()
0.1552...
</code></pre>
<p>Initialize contraction fitting.</p>
<h2 id="parameters_1">Parameters</h2>
<dl>
<dt><strong><code>ID1</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Inside diameter of upstream pipe.</dd>
<dt><strong><code>ID2</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Inside diameter of downstream pipe.</dd>
<dt><strong><code>theta</code></strong> :&ensp;<code>ureg.Quantity {dimensionless}</code>, optional</dt>
<dd>Contraction angle, by default 180°.</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>ValueError</code></dt>
<dd>If ID1 &lt;= ID2 (not a contraction).
If theta is outside valid range (0°, 180°].</dd>
</dl></div>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="CryoToolBox.piping.PipingTransition" href="#CryoToolBox.piping.PipingTransition">PipingTransition</a></li>
<li><a title="CryoToolBox.piping.PipingElement" href="#CryoToolBox.piping.PipingElement">PipingElement</a></li>
<li>abc.ABC</li>
</ul>
<h3>Instance variables</h3>
<dl>
<dt id="CryoToolBox.piping.Contraction.area"><code class="name">prop <span class="ident">area</span></code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def area(self):
    &#34;&#34;&#34;
    Cross-sectional area of the downstream (smaller) pipe.

    Returns
    -------
    ureg.Quantity {length: 2}
        Flow area based on downstream diameter.
    &#34;&#34;&#34;
    return self._area</code></pre>
</details>
<div class="desc"><p>Cross-sectional area of the downstream (smaller) pipe.</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>ureg.Quantity {length: 2}</code></dt>
<dd>Flow area based on downstream diameter.</dd>
</dl></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="CryoToolBox.piping.Contraction.K"><code class="name flex">
<span>def <span class="ident">K</span></span>(<span>self, Re=None)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def K(self, Re=None):
    &#34;&#34;&#34;
    Calculate pressure loss coefficient for the contraction.

    Parameters
    ----------
    Re : float, optional
        Reynolds number. Currently not implemented but reserved
        for future Reynolds number corrections.

    Returns
    -------
    float
        Dimensionless pressure loss coefficient based on downstream
        velocity head.

    Notes
    -----
    The loss coefficient is calculated using Crane TP-410 formulas:

    - For θ ≤ 45°: K = 0.8 sin(θ/2) (1 - β²)
    - For θ &gt; 45°: K = 0.5 (1 - β²) √sin(θ/2)

    Where β = ID2/ID1 is the diameter ratio.

    Raises
    ------
    ValueError
        If theta &gt; 180° (invalid contraction angle).

    Examples
    --------
    &gt;&gt;&gt; import CryoToolBox as ctb
    &gt;&gt;&gt; u = ctb.ureg
    &gt;&gt;&gt; contraction = Contraction(4*u.inch, 2*u.inch, 90*u.deg)
    &gt;&gt;&gt; contraction.K()
    0.3153...
    &#34;&#34;&#34;
    # TODO: Add Re handling for Reynolds number corrections
    if Re is not None:
        logger.warning(&#34;Reynolds number correction not yet implemented&#34;)

    if self.theta &lt;= 45*ureg.deg:
        # Crane TP-410 A-26, Formula 1 for gradual contractions
        K_ = 0.8 * sin(self.theta/2) * (1 - self.beta**2)
    elif self.theta &lt;= 180*ureg.deg:
        # Crane TP-410 A-26, Formula 2 for sudden contractions
        K_ = 0.5 * (1 - self.beta**2) * sqrt(sin(self.theta/2))
    else:
        raise ValueError(f&#39;Contraction angle cannot exceed 180°, &#39;
                       f&#39;got {self.theta.to(ureg.deg)}&#39;)

    return float(K_)</code></pre>
</details>
<div class="desc"><p>Calculate pressure loss coefficient for the contraction.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>Re</code></strong> :&ensp;<code>float</code>, optional</dt>
<dd>Reynolds number. Currently not implemented but reserved
for future Reynolds number corrections.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>float</code></dt>
<dd>Dimensionless pressure loss coefficient based on downstream
velocity head.</dd>
</dl>
<h2 id="notes">Notes</h2>
<p>The loss coefficient is calculated using Crane TP-410 formulas:</p>
<ul>
<li>For θ ≤ 45°: K = 0.8 sin(θ/2) (1 - β²)</li>
<li>For θ &gt; 45°: K = 0.5 (1 - β²) √sin(θ/2)</li>
</ul>
<p>Where β = ID2/ID1 is the diameter ratio.</p>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>ValueError</code></dt>
<dd>If theta &gt; 180° (invalid contraction angle).</dd>
</dl>
<h2 id="examples">Examples</h2>
<pre><code class="language-python-repl">&gt;&gt;&gt; import CryoToolBox as ctb
&gt;&gt;&gt; u = ctb.ureg
&gt;&gt;&gt; contraction = Contraction(4*u.inch, 2*u.inch, 90*u.deg)
&gt;&gt;&gt; contraction.K()
0.3153...
</code></pre></div>
</dd>
</dl>
</dd>
<dt id="CryoToolBox.piping.CopperTube"><code class="flex name class">
<span>class <span class="ident">CopperTube</span></span>
<span>(</span><span>D_nom,<br>type_='K',<br>L=&lt;Quantity(0, &#x27;meter&#x27;)&gt;,<br>eps=&lt;Quantity(0.0018, &#x27;inch&#x27;)&gt;)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class CopperTube(Tube):
    &#34;&#34;&#34;Copper tube.

    Parameters
    ----------
    OD : ureg.Quantity {length: 1}
        Outer diameter of the tube.
    wall : ureg.Quantity {length: 1}
        Wall thickness of the tube.
    L : ureg.Quantity {length: 1}
        Length of the tube.
    eps : ureg.Quantity {length: 1}
        Absolute roughness for the tube. Default value for smooth
        pipe.
    &#34;&#34;&#34;
    def __init__(self, D_nom, type_=&#39;K&#39;, L=0*ureg.m,
                 eps=0.0018*ureg.inch):
        if isinstance(D_nom, ureg.Quantity):
            D = D_nom.magnitude
        else:
            D = D_nom
        OD = COPPER_TABLE[D][&#39;OD&#39;]
        wall = COPPER_TABLE[D][type_]
        c = 0 * ureg.inch  # Not affected by corrosion
        super().__init__(OD, wall, L=L, c=c, eps=eps)
        self.D = D
        self.type = &#39;Copper tube Type &#39; + type_</code></pre>
</details>
<div class="desc"><p>Copper tube.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>OD</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Outer diameter of the tube.</dd>
<dt><strong><code>wall</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Wall thickness of the tube.</dd>
<dt><strong><code>L</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Length of the tube.</dd>
<dt><strong><code>eps</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Absolute roughness for the tube. Default value for smooth
pipe.</dd>
</dl>
<p>Generate tube object.</p>
<h2 id="parameters_1">Parameters</h2>
<dl>
<dt><strong><code>OD</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Outer diameter of the tube.</dd>
<dt><strong><code>wall</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Wall thickness of the tube.</dd>
<dt><strong><code>T</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Minimum wall thickness considering manufacturer's minus tolerance.</dd>
<dt><strong><code>L</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Length of the tube.</dd>
<dt><strong><code>c</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Sum of the mechanical allowances plus corrosion and erosion
allowances. Default is 0 m.</dd>
<dt><strong><code>eps</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Absolute roughness for the tube. Default value for smooth
pipe.</dd>
</dl></div>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="CryoToolBox.piping.Tube" href="#CryoToolBox.piping.Tube">Tube</a></li>
<li><a title="CryoToolBox.piping.PipingElement" href="#CryoToolBox.piping.PipingElement">PipingElement</a></li>
<li>abc.ABC</li>
</ul>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="CryoToolBox.piping.Tube" href="#CryoToolBox.piping.Tube">Tube</a></b></code>:
<ul class="hlist">
<li><code><a title="CryoToolBox.piping.Tube.ID" href="#CryoToolBox.piping.Tube.ID">ID</a></code></li>
<li><code><a title="CryoToolBox.piping.Tube.K" href="#CryoToolBox.piping.Tube.K">K</a></code></li>
<li><code><a title="CryoToolBox.piping.Tube.area" href="#CryoToolBox.piping.Tube.area">area</a></code></li>
<li><code><a title="CryoToolBox.piping.Tube.f_T" href="#CryoToolBox.piping.Tube.f_T">f_T</a></code></li>
<li><code><a title="CryoToolBox.piping.Tube.pressure_design_thick" href="#CryoToolBox.piping.Tube.pressure_design_thick">pressure_design_thick</a></code></li>
<li><code><a title="CryoToolBox.piping.Tube.pressure_rating" href="#CryoToolBox.piping.Tube.pressure_rating">pressure_rating</a></code></li>
<li><code><a title="CryoToolBox.piping.Tube.volume" href="#CryoToolBox.piping.Tube.volume">volume</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="CryoToolBox.piping.CorrugatedPipe"><code class="flex name class">
<span>class <span class="ident">CorrugatedPipe</span></span>
<span>(</span><span>D_nom, L=&lt;Quantity(0, &#x27;meter&#x27;)&gt;)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class CorrugatedPipe(Tube):
    &#34;&#34;&#34;Corrugated pipe class.
    &#34;&#34;&#34;
    def __init__(self, D_nom, L=0*ureg.m):
        &#34;&#34;&#34;Generate corrugated pipe object.

        Parameters
        ----------
        D_nom : ureg.Quantity {length: 1}
            Nominal diameter of the inner pipe.
        L : ureg.Quantity {length: 1}
            Length of the pipe.
        &#34;&#34;&#34;
        # TODO DRY
        OD = D_nom
        logger.debug(&#39;For corrugated piping assumed OD = D&#39;)
        wall = 0 * ureg.m
        c = 0 * ureg.inch
        # Friction factor multiplicator usually in 2.2..2.6 range
        self.f_mult = 2.6
        super().__init__(OD, wall, L, c)
        self.type = &#39;Corrugated pipe&#39;
        logger.debug(&#39;For corrugated piping assumed wall = 0&#39;)

    def K(self, Re_):
        return self.f_mult * super().K(Re_)  # Multiplier 4 is used for corrugated pipe

    def branch_reinforcement(self):
        raise NotImplementedError(&#39;Branch reinforcement not implemented for&#39;
                                  &#39; corrugated pipe&#39;)

    def pressure_design_thick(self):
        raise NotImplementedError(&#39;Pressure design thickness not implemented&#39;
                                  &#39; for corrugated pipe&#39;)

    def __str__(self):
        return f&#39;Corrugated pipe D={self.OD:.3g~}, L={self.L:.3g~}&#39;</code></pre>
</details>
<div class="desc"><p>Corrugated pipe class.</p>
<p>Generate corrugated pipe object.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>D_nom</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Nominal diameter of the inner pipe.</dd>
<dt><strong><code>L</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Length of the pipe.</dd>
</dl></div>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="CryoToolBox.piping.Tube" href="#CryoToolBox.piping.Tube">Tube</a></li>
<li><a title="CryoToolBox.piping.PipingElement" href="#CryoToolBox.piping.PipingElement">PipingElement</a></li>
<li>abc.ABC</li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="CryoToolBox.piping.CorrugatedPipe.branch_reinforcement"><code class="name flex">
<span>def <span class="ident">branch_reinforcement</span></span>(<span>self)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def branch_reinforcement(self):
    raise NotImplementedError(&#39;Branch reinforcement not implemented for&#39;
                              &#39; corrugated pipe&#39;)</code></pre>
</details>
<div class="desc"></div>
</dd>
</dl>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="CryoToolBox.piping.Tube" href="#CryoToolBox.piping.Tube">Tube</a></b></code>:
<ul class="hlist">
<li><code><a title="CryoToolBox.piping.Tube.ID" href="#CryoToolBox.piping.Tube.ID">ID</a></code></li>
<li><code><a title="CryoToolBox.piping.Tube.K" href="#CryoToolBox.piping.Tube.K">K</a></code></li>
<li><code><a title="CryoToolBox.piping.Tube.area" href="#CryoToolBox.piping.Tube.area">area</a></code></li>
<li><code><a title="CryoToolBox.piping.Tube.f_T" href="#CryoToolBox.piping.Tube.f_T">f_T</a></code></li>
<li><code><a title="CryoToolBox.piping.Tube.pressure_design_thick" href="#CryoToolBox.piping.Tube.pressure_design_thick">pressure_design_thick</a></code></li>
<li><code><a title="CryoToolBox.piping.Tube.pressure_rating" href="#CryoToolBox.piping.Tube.pressure_rating">pressure_rating</a></code></li>
<li><code><a title="CryoToolBox.piping.Tube.volume" href="#CryoToolBox.piping.Tube.volume">volume</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="CryoToolBox.piping.Elbow"><code class="flex name class">
<span>class <span class="ident">Elbow</span></span>
<span>(</span><span>OD,<br>wall=&lt;Quantity(0, &#x27;inch&#x27;)&gt;,<br>c=&lt;Quantity(0, &#x27;inch&#x27;)&gt;,<br>R_D=1.5,<br>N=1,<br>angle=&lt;Quantity(90, &#x27;degree&#x27;)&gt;)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Elbow(Tube):
    &#34;&#34;&#34;
    NPS elbow fitting.
    MRO makes method K from PipeElbow class to override method from Pipe class.
    &#34;&#34;&#34;
    def __init__(self, OD, wall=0*ureg.inch, c=0*ureg.inch, R_D=1.5, N=1,
                 angle=90*ureg.deg):
        &#34;&#34;&#34;Generate a tube elbow object.

        Parameters
        ----------
        OD : ureg.Quantity {length: 1}
            Outer diameter of the tube.
        wall : ureg.Quantity {length: 1}
            Wall thickness of the tube.
        R_D : ureg.Quantity {length: 1}
            Elbow radius/diameter ratio
        N : int
            Number of elbows in the pipeline
        angle : ureg.Quantity {dimensionless}
            Number of elbows in the pipeline
        &#34;&#34;&#34;
        self.R_D = R_D
        self.N = N
        self.angle = angle
        super().__init__(OD, wall, L=0*ureg.m, c=c)
        self.L = R_D*self.ID*angle
        self.type = &#39;Tube elbow&#39;

    def K(self, Re_):
        &#34;&#34;&#34;
        Pressure drop in an elbow fitting.
        Based on Handbook of Hydraulic Resistance by I.E. Idelchik.
        &#34;&#34;&#34;
        if self.angle &lt;= 70*ureg.deg:
            A1 = 0.9*sin(self.angle)
        elif self.angle == 90*ureg.deg:
            A1 = 1
        elif self.angle &gt;= 100*ureg.deg:
            A1 = 0.7+0.35*self.angle/(90*ureg.deg)
        else:
            logger.error(&#39;&#39;&#39;Improper bend angle for elbow.
            90 degrees used instead: {}&#39;&#39;&#39;.format(self.angle))
            A1 = 1

        if self.R_D &lt; 1:
            B1 = 0.21*(self.R_D)**(-0.25)
        else:
            B1 = 0.21*(self.R_D)**(-0.5)

        C1 = 1  # use different value for non-axis symmetric
        # Friction losses in the elbow
        K_frict = super().K(Re_)
        return (A1*B1*C1+K_frict)*self.N

    def __str__(self):
        return f&#39;{self.N}x {self.type}, {self.OD}&#34;x{self.wall}&#34;, &#39; + \
            f&#39;{self.angle.to(ureg.deg)}, R_D = {self.R_D}&#39;</code></pre>
</details>
<div class="desc"><p>NPS elbow fitting.
MRO makes method K from PipeElbow class to override method from Pipe class.</p>
<p>Generate a tube elbow object.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>OD</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Outer diameter of the tube.</dd>
<dt><strong><code>wall</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Wall thickness of the tube.</dd>
<dt><strong><code>R_D</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Elbow radius/diameter ratio</dd>
<dt><strong><code>N</code></strong> :&ensp;<code>int</code></dt>
<dd>Number of elbows in the pipeline</dd>
<dt><strong><code>angle</code></strong> :&ensp;<code>ureg.Quantity {dimensionless}</code></dt>
<dd>Number of elbows in the pipeline</dd>
</dl></div>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="CryoToolBox.piping.Tube" href="#CryoToolBox.piping.Tube">Tube</a></li>
<li><a title="CryoToolBox.piping.PipingElement" href="#CryoToolBox.piping.PipingElement">PipingElement</a></li>
<li>abc.ABC</li>
</ul>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="CryoToolBox.piping.PipeElbow" href="#CryoToolBox.piping.PipeElbow">PipeElbow</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="CryoToolBox.piping.Elbow.K"><code class="name flex">
<span>def <span class="ident">K</span></span>(<span>self, Re_)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def K(self, Re_):
    &#34;&#34;&#34;
    Pressure drop in an elbow fitting.
    Based on Handbook of Hydraulic Resistance by I.E. Idelchik.
    &#34;&#34;&#34;
    if self.angle &lt;= 70*ureg.deg:
        A1 = 0.9*sin(self.angle)
    elif self.angle == 90*ureg.deg:
        A1 = 1
    elif self.angle &gt;= 100*ureg.deg:
        A1 = 0.7+0.35*self.angle/(90*ureg.deg)
    else:
        logger.error(&#39;&#39;&#39;Improper bend angle for elbow.
        90 degrees used instead: {}&#39;&#39;&#39;.format(self.angle))
        A1 = 1

    if self.R_D &lt; 1:
        B1 = 0.21*(self.R_D)**(-0.25)
    else:
        B1 = 0.21*(self.R_D)**(-0.5)

    C1 = 1  # use different value for non-axis symmetric
    # Friction losses in the elbow
    K_frict = super().K(Re_)
    return (A1*B1*C1+K_frict)*self.N</code></pre>
</details>
<div class="desc"><p>Pressure drop in an elbow fitting.
Based on Handbook of Hydraulic Resistance by I.E. Idelchik.</p></div>
</dd>
</dl>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="CryoToolBox.piping.Tube" href="#CryoToolBox.piping.Tube">Tube</a></b></code>:
<ul class="hlist">
<li><code><a title="CryoToolBox.piping.Tube.ID" href="#CryoToolBox.piping.Tube.ID">ID</a></code></li>
<li><code><a title="CryoToolBox.piping.Tube.area" href="#CryoToolBox.piping.Tube.area">area</a></code></li>
<li><code><a title="CryoToolBox.piping.Tube.f_T" href="#CryoToolBox.piping.Tube.f_T">f_T</a></code></li>
<li><code><a title="CryoToolBox.piping.Tube.pressure_design_thick" href="#CryoToolBox.piping.Tube.pressure_design_thick">pressure_design_thick</a></code></li>
<li><code><a title="CryoToolBox.piping.Tube.pressure_rating" href="#CryoToolBox.piping.Tube.pressure_rating">pressure_rating</a></code></li>
<li><code><a title="CryoToolBox.piping.Tube.volume" href="#CryoToolBox.piping.Tube.volume">volume</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="CryoToolBox.piping.Enlargement"><code class="flex name class">
<span>class <span class="ident">Enlargement</span></span>
<span>(</span><span>ID1, ID2, theta=&lt;Quantity(180, &#x27;degree&#x27;)&gt;)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Enlargement(PipingTransition):
    &#34;&#34;&#34;
    Sudden and gradual pipe enlargement fitting based on Crane TP-410.

    This class represents pipe enlargements that increase flow area from a smaller
    upstream pipe to a larger downstream pipe. The pressure loss coefficient
    is calculated based on the enlargement angle and diameter ratio.

    Parameters
    ----------
    ID1 : ureg.Quantity {length: 1}
        Inside diameter of upstream (smaller) pipe.
    ID2 : ureg.Quantity {length: 1}
        Inside diameter of downstream (larger) pipe.
    theta : ureg.Quantity {dimensionless}, optional
        Total enlargement angle (included angle), by default 180°.

    Notes
    -----
    For enlargements, the pressure loss coefficient is based on upstream
    velocity head and uses different formulas than contractions.
    &#34;&#34;&#34;

    def __init__(self, ID1, ID2, theta=ureg(&#39;180 deg&#39;)):
        &#34;&#34;&#34;
        Initialize enlargement fitting.

        Parameters
        ----------
        ID1 : ureg.Quantity {length: 1}
            Inside diameter of upstream (smaller) pipe.
        ID2 : ureg.Quantity {length: 1}
            Inside diameter of downstream (larger) pipe.
        theta : ureg.Quantity {dimensionless}, optional
            Enlargement angle, by default 180°.

        Raises
        ------
        ValueError
            If ID1 &gt;= ID2 (not an enlargement).
            If theta is outside valid range (0°, 180°].
        &#34;&#34;&#34;
        # Enlargement-specific validation
        if ID1 &gt;= ID2:
            raise ValueError(f&#34;ID2 ({ID2}) must be greater than ID1 ({ID1}) &#34;
                           &#34;for an enlargement&#34;)

        # Use shared initialization
        self._init_transition(ID1, ID2, theta, &#39;Enlargement&#39;)

    @property
    def area(self):
        &#34;&#34;&#34;
        Cross-sectional area of the upstream (smaller) pipe.

        Returns
        -------
        ureg.Quantity {length: 2}
            Flow area based on upstream diameter for enlargements.
        &#34;&#34;&#34;
        return circle_area(self.ID1)  # Use upstream area for enlargements

    def K(self, Re=None):
        &#34;&#34;&#34;
        Calculate pressure loss coefficient for the enlargement.

        Parameters
        ----------
        Re : float, optional
            Reynolds number. Currently not implemented.

        Returns
        -------
        float
            Dimensionless pressure loss coefficient based on upstream
            velocity head.

        Notes
        -----
        Enlargement formulas differ from contractions and are based on
        upstream velocity head.
        &#34;&#34;&#34;
        # Enlargement-specific K calculation
        # (Implementation depends on your specific enlargement formulas)
        if self.theta &lt;= 45*ureg.deg:
            # Gradual enlargement formula
            K_ = 2.6 * sin(self.theta/2) * (1 - self.beta**2)**2
        else:
            # Sudden enlargement formula: K = (1 - β²)²
            K_ = (1 - self.beta**2)**2

        return float(K_)</code></pre>
</details>
<div class="desc"><p>Sudden and gradual pipe enlargement fitting based on Crane TP-410.</p>
<p>This class represents pipe enlargements that increase flow area from a smaller
upstream pipe to a larger downstream pipe. The pressure loss coefficient
is calculated based on the enlargement angle and diameter ratio.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>ID1</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Inside diameter of upstream (smaller) pipe.</dd>
<dt><strong><code>ID2</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Inside diameter of downstream (larger) pipe.</dd>
<dt><strong><code>theta</code></strong> :&ensp;<code>ureg.Quantity {dimensionless}</code>, optional</dt>
<dd>Total enlargement angle (included angle), by default 180°.</dd>
</dl>
<h2 id="notes">Notes</h2>
<p>For enlargements, the pressure loss coefficient is based on upstream
velocity head and uses different formulas than contractions.</p>
<p>Initialize enlargement fitting.</p>
<h2 id="parameters_1">Parameters</h2>
<dl>
<dt><strong><code>ID1</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Inside diameter of upstream (smaller) pipe.</dd>
<dt><strong><code>ID2</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Inside diameter of downstream (larger) pipe.</dd>
<dt><strong><code>theta</code></strong> :&ensp;<code>ureg.Quantity {dimensionless}</code>, optional</dt>
<dd>Enlargement angle, by default 180°.</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>ValueError</code></dt>
<dd>If ID1 &gt;= ID2 (not an enlargement).
If theta is outside valid range (0°, 180°].</dd>
</dl></div>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="CryoToolBox.piping.PipingTransition" href="#CryoToolBox.piping.PipingTransition">PipingTransition</a></li>
<li><a title="CryoToolBox.piping.PipingElement" href="#CryoToolBox.piping.PipingElement">PipingElement</a></li>
<li>abc.ABC</li>
</ul>
<h3>Instance variables</h3>
<dl>
<dt id="CryoToolBox.piping.Enlargement.area"><code class="name">prop <span class="ident">area</span></code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def area(self):
    &#34;&#34;&#34;
    Cross-sectional area of the upstream (smaller) pipe.

    Returns
    -------
    ureg.Quantity {length: 2}
        Flow area based on upstream diameter for enlargements.
    &#34;&#34;&#34;
    return circle_area(self.ID1)  # Use upstream area for enlargements</code></pre>
</details>
<div class="desc"><p>Cross-sectional area of the upstream (smaller) pipe.</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>ureg.Quantity {length: 2}</code></dt>
<dd>Flow area based on upstream diameter for enlargements.</dd>
</dl></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="CryoToolBox.piping.Enlargement.K"><code class="name flex">
<span>def <span class="ident">K</span></span>(<span>self, Re=None)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def K(self, Re=None):
    &#34;&#34;&#34;
    Calculate pressure loss coefficient for the enlargement.

    Parameters
    ----------
    Re : float, optional
        Reynolds number. Currently not implemented.

    Returns
    -------
    float
        Dimensionless pressure loss coefficient based on upstream
        velocity head.

    Notes
    -----
    Enlargement formulas differ from contractions and are based on
    upstream velocity head.
    &#34;&#34;&#34;
    # Enlargement-specific K calculation
    # (Implementation depends on your specific enlargement formulas)
    if self.theta &lt;= 45*ureg.deg:
        # Gradual enlargement formula
        K_ = 2.6 * sin(self.theta/2) * (1 - self.beta**2)**2
    else:
        # Sudden enlargement formula: K = (1 - β²)²
        K_ = (1 - self.beta**2)**2

    return float(K_)</code></pre>
</details>
<div class="desc"><p>Calculate pressure loss coefficient for the enlargement.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>Re</code></strong> :&ensp;<code>float</code>, optional</dt>
<dd>Reynolds number. Currently not implemented.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>float</code></dt>
<dd>Dimensionless pressure loss coefficient based on upstream
velocity head.</dd>
</dl>
<h2 id="notes">Notes</h2>
<p>Enlargement formulas differ from contractions and are based on
upstream velocity head.</p></div>
</dd>
</dl>
</dd>
<dt id="CryoToolBox.piping.Entrance"><code class="flex name class">
<span>class <span class="ident">Entrance</span></span>
<span>(</span><span>ID, K=0.5)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Entrance(PipingElement):
    &#34;&#34;&#34;Pipe entrance, flush, sharp edged.
    &#34;&#34;&#34;
    def __init__(self, ID, K=0.5):
        &#34;&#34;&#34;Generate an pipe entrance.

        Parameters
        ----------
        ID : ureg.Quantity {length: 1}
            Inside diameter of the entrance.
        K : float
            Resistance coefficient. 0.5 for sharp entrance.
        &#34;&#34;&#34;
        self.ID = ID
        self.L = 0*ureg.m
        self._K = K
        self.type = &#39;Entrance&#39;
        self.volume = 0 * ureg.ft**3

    @property
    def area(self):
        return circle_area(self.ID)

    def K(self, Re=None):
        # TODO add Re handling
        return self._K

    def __str__(self):
        return f&#39;{self.type}, {self.ID:.3g~}&#39;

    # def __str__(self):
    #     return self.type</code></pre>
</details>
<div class="desc"><p>Pipe entrance, flush, sharp edged.</p>
<p>Generate an pipe entrance.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>ID</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Inside diameter of the entrance.</dd>
<dt><strong><code>K</code></strong> :&ensp;<code>float</code></dt>
<dd>Resistance coefficient. 0.5 for sharp entrance.</dd>
</dl></div>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="CryoToolBox.piping.PipingElement" href="#CryoToolBox.piping.PipingElement">PipingElement</a></li>
<li>abc.ABC</li>
</ul>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="CryoToolBox.piping.Exit" href="#CryoToolBox.piping.Exit">Exit</a></li>
</ul>
<h3>Instance variables</h3>
<dl>
<dt id="CryoToolBox.piping.Entrance.area"><code class="name">prop <span class="ident">area</span></code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def area(self):
    return circle_area(self.ID)</code></pre>
</details>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="CryoToolBox.piping.Entrance.K"><code class="name flex">
<span>def <span class="ident">K</span></span>(<span>self, Re=None)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def K(self, Re=None):
    # TODO add Re handling
    return self._K</code></pre>
</details>
<div class="desc"></div>
</dd>
</dl>
</dd>
<dt id="CryoToolBox.piping.Exit"><code class="flex name class">
<span>class <span class="ident">Exit</span></span>
<span>(</span><span>ID)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Exit (Entrance):
    &#34;&#34;&#34;Pipe exit, projecting or sharp-edged, or rounded.
    &#34;&#34;&#34;
    def __init__(self, ID):
        &#34;&#34;&#34;Generate pipe exit.

        Parameters
        ----------
        ID : ureg.Quantity {length: 1}
            Inside diameter of the exit.
        &#34;&#34;&#34;
        self.ID = ID
        self.L = 0*ureg.m
        self.type = &#39;Exit&#39;
        self.volume = 0 * ureg.ft**3
        self._K = 1  # Crane TP-410, A-30

    def __str__(self):
        return f&#39;Exit opening, {self.ID:.3g~}&#39;</code></pre>
</details>
<div class="desc"><p>Pipe exit, projecting or sharp-edged, or rounded.</p>
<p>Generate pipe exit.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>ID</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Inside diameter of the exit.</dd>
</dl></div>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="CryoToolBox.piping.Entrance" href="#CryoToolBox.piping.Entrance">Entrance</a></li>
<li><a title="CryoToolBox.piping.PipingElement" href="#CryoToolBox.piping.PipingElement">PipingElement</a></li>
<li>abc.ABC</li>
</ul>
</dd>
<dt id="CryoToolBox.piping.HydraulicError"><code class="flex name class">
<span>class <span class="ident">HydraulicError</span></span>
<span>(</span><span>message)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class HydraulicError(Exception):
    def __init__(self, message):
        self.message = message
        super().__init__(message)</code></pre>
</details>
<div class="desc"><p>Common base class for all non-exit exceptions.</p></div>
<h3>Ancestors</h3>
<ul class="hlist">
<li>builtins.Exception</li>
<li>builtins.BaseException</li>
</ul>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="CryoToolBox.piping.ChokedFlow" href="#CryoToolBox.piping.ChokedFlow">ChokedFlow</a></li>
</ul>
</dd>
<dt id="CryoToolBox.piping.Orifice"><code class="flex name class">
<span>class <span class="ident">Orifice</span></span>
<span>(</span><span>ID)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Orifice(PipingElement):
    &#34;&#34;&#34;Square-edged orifice plate
    &#34;&#34;&#34;
    def __init__(self, ID):
        &#34;&#34;&#34;Generate orifice.

        Parameters
        ----------
        ID : ureg.Quantity {length: 1}
            Inside diameter of the orifice.
        &#34;&#34;&#34;
        self.Cd = 0.61  # Thin sharp edged orifice plate
        self.ID = ID
        self.L = 0*ureg.m
        self._area = circle_area(ID)
        self.type = &#39;Orifice&#39;
        self.volume = 0 * ureg.ft**3

    @property
    def area(self):
        return self._area

    def K(self, Re=None):
        # TODO add Re handling
        return 1/self.Cd**2

    def __str__(self):
        return f&#39;Orifice, {self.ID:.3g~}&#39;

    # def __str__(self):
    #     return f&#39;{self.ID:.3g~} orifice&#39;</code></pre>
</details>
<div class="desc"><p>Square-edged orifice plate</p>
<p>Generate orifice.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>ID</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Inside diameter of the orifice.</dd>
</dl></div>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="CryoToolBox.piping.PipingElement" href="#CryoToolBox.piping.PipingElement">PipingElement</a></li>
<li>abc.ABC</li>
</ul>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="CryoToolBox.piping.ConicOrifice" href="#CryoToolBox.piping.ConicOrifice">ConicOrifice</a></li>
</ul>
<h3>Instance variables</h3>
<dl>
<dt id="CryoToolBox.piping.Orifice.area"><code class="name">prop <span class="ident">area</span></code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def area(self):
    return self._area</code></pre>
</details>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="CryoToolBox.piping.Orifice.K"><code class="name flex">
<span>def <span class="ident">K</span></span>(<span>self, Re=None)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def K(self, Re=None):
    # TODO add Re handling
    return 1/self.Cd**2</code></pre>
</details>
<div class="desc"></div>
</dd>
</dl>
</dd>
<dt id="CryoToolBox.piping.PackedBed"><code class="flex name class">
<span>class <span class="ident">PackedBed</span></span>
<span>(</span><span>ID, height, D_part, eps)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class PackedBed(PipingElement):
    &#34;&#34;&#34;Packed bed piping element.

    Attributes
    ----------
    ID : ureg.Quantity {length: 1}
        Inner diameter of the shell of the packed bed.
    L : ureg.Quantity {length: 1}
        Height of the packed bed.
    D_part : ureg.Quantity {length: 1}
        Spherical equivalent particle diameter.
    eps : float
        Void fraction (porosity) of the bed.
    &#34;&#34;&#34;
    def __init__(self, ID, height, D_part, eps):
        self.ID = ID
        self.OD = self.ID
        self.L = height
        self.D_part = D_part
        self.eps = eps
        self.type = &#39;Packed bed&#39;

    @property
    def area(self):
        return pi * self.ID**2 / 4

    def f(self, Re_s):
        &#34;&#34;&#34;Calculate packed bed friction factor.&#34;&#34;&#34;
        return 150/self.Re_mod(Re_s) + 1.75

    def Re_mod(self, Re_s):
        &#34;&#34;&#34;Calculate modified Reynolds number for the packed bed.

        Parameters
        ----------
        Re_s : Quantity {dimensionless} or float
            Superficial Re number; Re_s = U_s*ID*rho/mu,
            where U_s - superficial velocity and ID - shell ID.
        &#34;&#34;&#34;
        Re_ = Re_s * self.D_part/(self.ID*(1-self.eps))
        return Re_.to_base_units()

    def K(self, Re_s):
        &#34;&#34;&#34;Calculate resistance coefficient for the packed bed.&#34;&#34;&#34;
        K_ = 2*self.f(Re_s)*self.L*(1-self.eps) / \
            (self.D_part*self.eps**3)
        return K_.to_base_units()

    def __str__(self):
        return (f&#39;{self.type} ID={self.ID:.3g~}, L={self.L:.3g~}, &#39;
                f&#39;eps={self.eps:.3g}, D={self.D_part:.3g~}&#39;)</code></pre>
</details>
<div class="desc"><p>Packed bed piping element.</p>
<h2 id="attributes">Attributes</h2>
<dl>
<dt><strong><code>ID</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Inner diameter of the shell of the packed bed.</dd>
<dt><strong><code>L</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Height of the packed bed.</dd>
<dt><strong><code>D_part</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Spherical equivalent particle diameter.</dd>
<dt><strong><code>eps</code></strong> :&ensp;<code>float</code></dt>
<dd>Void fraction (porosity) of the bed.</dd>
</dl></div>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="CryoToolBox.piping.PipingElement" href="#CryoToolBox.piping.PipingElement">PipingElement</a></li>
<li>abc.ABC</li>
</ul>
<h3>Instance variables</h3>
<dl>
<dt id="CryoToolBox.piping.PackedBed.area"><code class="name">prop <span class="ident">area</span></code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def area(self):
    return pi * self.ID**2 / 4</code></pre>
</details>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="CryoToolBox.piping.PackedBed.K"><code class="name flex">
<span>def <span class="ident">K</span></span>(<span>self, Re_s)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def K(self, Re_s):
    &#34;&#34;&#34;Calculate resistance coefficient for the packed bed.&#34;&#34;&#34;
    K_ = 2*self.f(Re_s)*self.L*(1-self.eps) / \
        (self.D_part*self.eps**3)
    return K_.to_base_units()</code></pre>
</details>
<div class="desc"><p>Calculate resistance coefficient for the packed bed.</p></div>
</dd>
<dt id="CryoToolBox.piping.PackedBed.Re_mod"><code class="name flex">
<span>def <span class="ident">Re_mod</span></span>(<span>self, Re_s)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def Re_mod(self, Re_s):
    &#34;&#34;&#34;Calculate modified Reynolds number for the packed bed.

    Parameters
    ----------
    Re_s : Quantity {dimensionless} or float
        Superficial Re number; Re_s = U_s*ID*rho/mu,
        where U_s - superficial velocity and ID - shell ID.
    &#34;&#34;&#34;
    Re_ = Re_s * self.D_part/(self.ID*(1-self.eps))
    return Re_.to_base_units()</code></pre>
</details>
<div class="desc"><p>Calculate modified Reynolds number for the packed bed.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>Re_s</code></strong> :&ensp;<code>Quantity {dimensionless}</code> or <code>float</code></dt>
<dd>Superficial Re number; Re_s = U_s<em>ID</em>rho/mu,
where U_s - superficial velocity and ID - shell ID.</dd>
</dl></div>
</dd>
<dt id="CryoToolBox.piping.PackedBed.f"><code class="name flex">
<span>def <span class="ident">f</span></span>(<span>self, Re_s)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def f(self, Re_s):
    &#34;&#34;&#34;Calculate packed bed friction factor.&#34;&#34;&#34;
    return 150/self.Re_mod(Re_s) + 1.75</code></pre>
</details>
<div class="desc"><p>Calculate packed bed friction factor.</p></div>
</dd>
</dl>
</dd>
<dt id="CryoToolBox.piping.ParallelPlateRelief"><code class="flex name class">
<span>class <span class="ident">ParallelPlateRelief</span></span>
<span>(</span><span>Springs, Plate, Supply_pipe)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class ParallelPlateRelief:
    def __init__(self, Springs, Plate, Supply_pipe):
        &#34;&#34;&#34;
        Initiate Parallel Plate instance.
        Parallel Plate relief valve designed by Fermilab

        Springs: dictionary containing &#39;N&#39; - number of springs, &#39;k&#39; - spring rate, and &#39;dx_precomp&#39; - pre-compression length
        Plate: dictionary containing &#39;OD_plate&#39; - OD of the plate, &#39;OD_O_ring&#39; - OD of the O-Ring installed, and &#39;W_plate&#39; - plate weight
        Supply_pipe: Pipe/Tube object of upstream pipe
        &#34;&#34;&#34;
        self.Springs = Springs
        self.Plate = Plate
        self.Supply_pipe = Supply_pipe

    def P_set(self):
        &#34;&#34;&#34;&#34;
        Calculate set (lift) pressure of the Parallel Plate relief
        &#34;&#34;&#34;
        # Before lifting pressure affects area within O-Ring OD
        A_lift = pi * self.Plate[&#39;OD_O_ring&#39;]**2 / 4
        F_precomp = self.Springs[&#39;N&#39;] * self.Springs[&#39;k&#39;] *\
            self.Springs[&#39;dx_precomp&#39;]
        # Force required to lift the plate
        F_lift = F_precomp + self.Plate[&#39;W_plate&#39;]
        self.F_lift = F_lift
        P_set = F_lift / A_lift
        return P_set.to(ureg.psi)

    def P_open(self):
        &#34;&#34;&#34;
        Calculate pressure required to fully open Parallel Plate relief
        &#34;&#34;&#34;
        # compression required to provide vent area equal to supply pipe area
        dx_open = self.Supply_pipe.area / (pi*self.Plate[&#39;OD_plate&#39;])
        # Force at fully open
        F_open = self.F_lift = self.Springs[&#39;N&#39;] * self.Springs[&#39;k&#39;] * dx_open
        # At fully open pressure is distributed as:
        # Full pressure for up to supply pipe diameter
        # Linear fall off up to plate OD
        A_open = self.Supply_pipe.area + pi/8*(self.Plate[&#39;OD_plate&#39;]**2 -
                                               self.Supply_pipe.ID**2)
        P_open = F_open / A_open
        return P_open.to(ureg.psi)</code></pre>
</details>
<div class="desc"><p>Initiate Parallel Plate instance.
Parallel Plate relief valve designed by Fermilab</p>
<p>Springs: dictionary containing 'N' - number of springs, 'k' - spring rate, and 'dx_precomp' - pre-compression length
Plate: dictionary containing 'OD_plate' - OD of the plate, 'OD_O_ring' - OD of the O-Ring installed, and 'W_plate' - plate weight
Supply_pipe: Pipe/Tube object of upstream pipe</p></div>
<h3>Methods</h3>
<dl>
<dt id="CryoToolBox.piping.ParallelPlateRelief.P_open"><code class="name flex">
<span>def <span class="ident">P_open</span></span>(<span>self)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def P_open(self):
    &#34;&#34;&#34;
    Calculate pressure required to fully open Parallel Plate relief
    &#34;&#34;&#34;
    # compression required to provide vent area equal to supply pipe area
    dx_open = self.Supply_pipe.area / (pi*self.Plate[&#39;OD_plate&#39;])
    # Force at fully open
    F_open = self.F_lift = self.Springs[&#39;N&#39;] * self.Springs[&#39;k&#39;] * dx_open
    # At fully open pressure is distributed as:
    # Full pressure for up to supply pipe diameter
    # Linear fall off up to plate OD
    A_open = self.Supply_pipe.area + pi/8*(self.Plate[&#39;OD_plate&#39;]**2 -
                                           self.Supply_pipe.ID**2)
    P_open = F_open / A_open
    return P_open.to(ureg.psi)</code></pre>
</details>
<div class="desc"><p>Calculate pressure required to fully open Parallel Plate relief</p></div>
</dd>
<dt id="CryoToolBox.piping.ParallelPlateRelief.P_set"><code class="name flex">
<span>def <span class="ident">P_set</span></span>(<span>self)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def P_set(self):
    &#34;&#34;&#34;&#34;
    Calculate set (lift) pressure of the Parallel Plate relief
    &#34;&#34;&#34;
    # Before lifting pressure affects area within O-Ring OD
    A_lift = pi * self.Plate[&#39;OD_O_ring&#39;]**2 / 4
    F_precomp = self.Springs[&#39;N&#39;] * self.Springs[&#39;k&#39;] *\
        self.Springs[&#39;dx_precomp&#39;]
    # Force required to lift the plate
    F_lift = F_precomp + self.Plate[&#39;W_plate&#39;]
    self.F_lift = F_lift
    P_set = F_lift / A_lift
    return P_set.to(ureg.psi)</code></pre>
</details>
<div class="desc"><p>"
Calculate set (lift) pressure of the Parallel Plate relief</p></div>
</dd>
</dl>
</dd>
<dt id="CryoToolBox.piping.Pipe"><code class="flex name class">
<span>class <span class="ident">Pipe</span></span>
<span>(</span><span>D_nom,<br>SCH=40,<br>L=&lt;Quantity(0, &#x27;meter&#x27;)&gt;,<br>c=&lt;Quantity(0, &#x27;millimeter&#x27;)&gt;,<br>eps=&lt;Quantity(0.0018, &#x27;inch&#x27;)&gt;)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Pipe(Tube):
    &#34;&#34;&#34;NPS pipe class.

    Pipe objects represent actual parts of the pipeline. The Pipe object
    will contain information such as OD, ID, wall thickness, and can be
    used to calculate flow coefficient K that is used for flow calculations.
    &#34;&#34;&#34;
    def __init__(self, D_nom, SCH=40, L=0*ureg.m, c=Q_(&#39;0 mm&#39;),
                 eps=0.0018*ureg.inch):
        &#34;&#34;&#34;Generate `Pipe` object.

        Parameters
        ----------
        D_nom : float or ureg.Quantity {length: 1}
            Nominal diameter of piping; can be dimensionless or having a unit
            of length.
        SCH : int
            Pipe schedule. Default value is SCH 40 (STD).
        L : ureg.Quantity {length: 1}
            Pipe length
        c : ureg.Quantity {length: 1}
            Sum of the mechanical allowances plus corrosion and erosion
            allowances.
        eps : ureg.Quantity {length: 1}
            Absolute roughness for the tube. Default value for smooth
            pipe.
        &#34;&#34;&#34;
        if isinstance(D_nom, ureg.Quantity):
            D = D_nom.magnitude
        else:
            D = D_nom
        OD = NPS_table[D][&#39;OD&#39;]
        self.SCH = SCH
        # TODO Should I be using get here?
        wall = NPS_table[D].get(SCH)
        if wall is None:
            raise PipingError(f&#39;SCH {SCH} not available for pipe size {D}.&#39;)
        super().__init__(OD, wall, L=L, c=c, eps=eps)
        self.D = D
        self.type = &#39;NPS pipe&#39;

    def __str__(self):
        return f&#39;{self.type} {self.D}&#34; SCH {self.SCH}, L={self.L:.3~g}&#39;</code></pre>
</details>
<div class="desc"><p>NPS pipe class.</p>
<p>Pipe objects represent actual parts of the pipeline. The Pipe object
will contain information such as OD, ID, wall thickness, and can be
used to calculate flow coefficient K that is used for flow calculations.</p>
<p>Generate <code><a title="CryoToolBox.piping.Pipe" href="#CryoToolBox.piping.Pipe">Pipe</a></code> object.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>D_nom</code></strong> :&ensp;<code>float</code> or <code>ureg.Quantity {length: 1}</code></dt>
<dd>Nominal diameter of piping; can be dimensionless or having a unit
of length.</dd>
<dt><strong><code>SCH</code></strong> :&ensp;<code>int</code></dt>
<dd>Pipe schedule. Default value is SCH 40 (STD).</dd>
<dt><strong><code>L</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Pipe length</dd>
<dt><strong><code>c</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Sum of the mechanical allowances plus corrosion and erosion
allowances.</dd>
<dt><strong><code>eps</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Absolute roughness for the tube. Default value for smooth
pipe.</dd>
</dl></div>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="CryoToolBox.piping.Tube" href="#CryoToolBox.piping.Tube">Tube</a></li>
<li><a title="CryoToolBox.piping.PipingElement" href="#CryoToolBox.piping.PipingElement">PipingElement</a></li>
<li>abc.ABC</li>
</ul>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="CryoToolBox.piping.PipeElbow" href="#CryoToolBox.piping.PipeElbow">PipeElbow</a></li>
<li><a title="CryoToolBox.piping.PipeTee" href="#CryoToolBox.piping.PipeTee">PipeTee</a></li>
<li><a title="CryoToolBox.piping.VJPipe" href="#CryoToolBox.piping.VJPipe">VJPipe</a></li>
</ul>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="CryoToolBox.piping.Tube" href="#CryoToolBox.piping.Tube">Tube</a></b></code>:
<ul class="hlist">
<li><code><a title="CryoToolBox.piping.Tube.ID" href="#CryoToolBox.piping.Tube.ID">ID</a></code></li>
<li><code><a title="CryoToolBox.piping.Tube.K" href="#CryoToolBox.piping.Tube.K">K</a></code></li>
<li><code><a title="CryoToolBox.piping.Tube.area" href="#CryoToolBox.piping.Tube.area">area</a></code></li>
<li><code><a title="CryoToolBox.piping.Tube.f_T" href="#CryoToolBox.piping.Tube.f_T">f_T</a></code></li>
<li><code><a title="CryoToolBox.piping.Tube.pressure_design_thick" href="#CryoToolBox.piping.Tube.pressure_design_thick">pressure_design_thick</a></code></li>
<li><code><a title="CryoToolBox.piping.Tube.pressure_rating" href="#CryoToolBox.piping.Tube.pressure_rating">pressure_rating</a></code></li>
<li><code><a title="CryoToolBox.piping.Tube.volume" href="#CryoToolBox.piping.Tube.volume">volume</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="CryoToolBox.piping.PipeElbow"><code class="flex name class">
<span>class <span class="ident">PipeElbow</span></span>
<span>(</span><span>D_nom,<br>SCH=40,<br>c=&lt;Quantity(0, &#x27;inch&#x27;)&gt;,<br>R_D=1.5,<br>N=1,<br>angle=&lt;Quantity(90, &#x27;degree&#x27;)&gt;)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class PipeElbow(Elbow, Pipe):
    &#34;&#34;&#34;
    NPS Elbow fitting.
    MRO makes method K from Elbow class to override method from Pipe class.
    &#34;&#34;&#34;
    def __init__(self, D_nom, SCH=40, c=0*ureg.inch, R_D=1.5, N=1,
                 angle=90*ureg.deg):
        &#34;&#34;&#34;Generate a pipe elbow object.

        Parameters
        ----------
        D_nom : float or ureg.Quantity {length: 1}
            Nominal diameter of piping; can be dimensionless or having a unit
            of length.
        SCH : int
            Pipe schedule. Default value is SCH 40 (STD).
        R_D : ureg.Quantity {length: 1}
            Elbow radius/diameter ratio
        N : int
            Number of elbows in the pipeline
        angle : ureg.Quantity {dimensionless}
            Number of elbows in the pipeline
        &#34;&#34;&#34;
        # D_nom and SCH go as positional arguments to Pipe __init__
        super().__init__(D_nom, SCH, c=c, R_D=R_D, N=N, angle=angle)
        self.type = &#39;NPS elbow&#39;

    def __str__(self):
        return f&#39;{self.N}x {self.type}, {self.D}&#34; SCH {self.SCH}, &#39; + \
            f&#39;{self.angle.to(ureg.deg)}, R_D = {self.R_D}&#39;</code></pre>
</details>
<div class="desc"><p>NPS Elbow fitting.
MRO makes method K from Elbow class to override method from Pipe class.</p>
<p>Generate a pipe elbow object.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>D_nom</code></strong> :&ensp;<code>float</code> or <code>ureg.Quantity {length: 1}</code></dt>
<dd>Nominal diameter of piping; can be dimensionless or having a unit
of length.</dd>
<dt><strong><code>SCH</code></strong> :&ensp;<code>int</code></dt>
<dd>Pipe schedule. Default value is SCH 40 (STD).</dd>
<dt><strong><code>R_D</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Elbow radius/diameter ratio</dd>
<dt><strong><code>N</code></strong> :&ensp;<code>int</code></dt>
<dd>Number of elbows in the pipeline</dd>
<dt><strong><code>angle</code></strong> :&ensp;<code>ureg.Quantity {dimensionless}</code></dt>
<dd>Number of elbows in the pipeline</dd>
</dl></div>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="CryoToolBox.piping.Elbow" href="#CryoToolBox.piping.Elbow">Elbow</a></li>
<li><a title="CryoToolBox.piping.Pipe" href="#CryoToolBox.piping.Pipe">Pipe</a></li>
<li><a title="CryoToolBox.piping.Tube" href="#CryoToolBox.piping.Tube">Tube</a></li>
<li><a title="CryoToolBox.piping.PipingElement" href="#CryoToolBox.piping.PipingElement">PipingElement</a></li>
<li>abc.ABC</li>
</ul>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="CryoToolBox.piping.Elbow" href="#CryoToolBox.piping.Elbow">Elbow</a></b></code>:
<ul class="hlist">
<li><code><a title="CryoToolBox.piping.Elbow.ID" href="#CryoToolBox.piping.Tube.ID">ID</a></code></li>
<li><code><a title="CryoToolBox.piping.Elbow.K" href="#CryoToolBox.piping.Elbow.K">K</a></code></li>
<li><code><a title="CryoToolBox.piping.Elbow.area" href="#CryoToolBox.piping.Tube.area">area</a></code></li>
<li><code><a title="CryoToolBox.piping.Elbow.f_T" href="#CryoToolBox.piping.Tube.f_T">f_T</a></code></li>
<li><code><a title="CryoToolBox.piping.Elbow.pressure_design_thick" href="#CryoToolBox.piping.Tube.pressure_design_thick">pressure_design_thick</a></code></li>
<li><code><a title="CryoToolBox.piping.Elbow.pressure_rating" href="#CryoToolBox.piping.Tube.pressure_rating">pressure_rating</a></code></li>
<li><code><a title="CryoToolBox.piping.Elbow.volume" href="#CryoToolBox.piping.Tube.volume">volume</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="CryoToolBox.piping.PipeTee"><code class="flex name class">
<span>class <span class="ident">PipeTee</span></span>
<span>(</span><span>D_nom, SCH=40, c=&lt;Quantity(0, &#x27;inch&#x27;)&gt;, direction='thru', N=1)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class PipeTee(Tee, Pipe):
    &#34;&#34;&#34;
    NPS Tee fitting.
    MRO makes method K from Tee class to override method from Pipe class.
    &#34;&#34;&#34;
    def __init__(self, D_nom, SCH=40, c=0*ureg.inch, direction=&#39;thru&#39;, N=1):
        # D_nom and SCH go as positional arguments to Pipe __init__
        super().__init__(D_nom, SCH, c, direction)
        self.type = &#39;NPS tee&#39;

    def info(self):
        return f&#39;{self.type}, {self.D}&#34; SCH {self.SCH}, &#39; + \
            f&#39;{self.direction}&#39;</code></pre>
</details>
<div class="desc"><p>NPS Tee fitting.
MRO makes method K from Tee class to override method from Pipe class.</p>
<p>Generate a tee.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>OD</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Outer diameter of the tube.</dd>
<dt><strong><code>wall</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Wall thickness of the tube.</dd>
<dt><strong><code>c</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Sum of the mechanical allowances plus corrosion and erosion
allowances of the inner pipe.</dd>
<dt><strong><code>N</code></strong> :&ensp;<code>int</code></dt>
<dd>Number of tees in the pipeline</dd>
</dl></div>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="CryoToolBox.piping.Tee" href="#CryoToolBox.piping.Tee">Tee</a></li>
<li><a title="CryoToolBox.piping.Pipe" href="#CryoToolBox.piping.Pipe">Pipe</a></li>
<li><a title="CryoToolBox.piping.Tube" href="#CryoToolBox.piping.Tube">Tube</a></li>
<li><a title="CryoToolBox.piping.PipingElement" href="#CryoToolBox.piping.PipingElement">PipingElement</a></li>
<li>abc.ABC</li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="CryoToolBox.piping.PipeTee.info"><code class="name flex">
<span>def <span class="ident">info</span></span>(<span>self)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def info(self):
    return f&#39;{self.type}, {self.D}&#34; SCH {self.SCH}, &#39; + \
        f&#39;{self.direction}&#39;</code></pre>
</details>
<div class="desc"></div>
</dd>
</dl>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="CryoToolBox.piping.Tee" href="#CryoToolBox.piping.Tee">Tee</a></b></code>:
<ul class="hlist">
<li><code><a title="CryoToolBox.piping.Tee.ID" href="#CryoToolBox.piping.Tube.ID">ID</a></code></li>
<li><code><a title="CryoToolBox.piping.Tee.K" href="#CryoToolBox.piping.Tube.K">K</a></code></li>
<li><code><a title="CryoToolBox.piping.Tee.area" href="#CryoToolBox.piping.Tube.area">area</a></code></li>
<li><code><a title="CryoToolBox.piping.Tee.f_T" href="#CryoToolBox.piping.Tube.f_T">f_T</a></code></li>
<li><code><a title="CryoToolBox.piping.Tee.pressure_design_thick" href="#CryoToolBox.piping.Tube.pressure_design_thick">pressure_design_thick</a></code></li>
<li><code><a title="CryoToolBox.piping.Tee.pressure_rating" href="#CryoToolBox.piping.Tube.pressure_rating">pressure_rating</a></code></li>
<li><code><a title="CryoToolBox.piping.Tee.volume" href="#CryoToolBox.piping.Tube.volume">volume</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="CryoToolBox.piping.PipingElement"><code class="flex name class">
<span>class <span class="ident">PipingElement</span></span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class PipingElement(ABC):
    &#34;&#34;&#34;Generic piping element.&#34;&#34;&#34;

    @property
    @abstractmethod
    def area(self):
        pass

    @abstractmethod
    def K(Re):
        pass

    @abstractmethod
    def __str__(self):
        pass</code></pre>
</details>
<div class="desc"><p>Generic piping element.</p></div>
<h3>Ancestors</h3>
<ul class="hlist">
<li>abc.ABC</li>
</ul>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="CryoToolBox.piping.Annulus" href="#CryoToolBox.piping.Annulus">Annulus</a></li>
<li><a title="CryoToolBox.piping.Entrance" href="#CryoToolBox.piping.Entrance">Entrance</a></li>
<li><a title="CryoToolBox.piping.Orifice" href="#CryoToolBox.piping.Orifice">Orifice</a></li>
<li><a title="CryoToolBox.piping.PackedBed" href="#CryoToolBox.piping.PackedBed">PackedBed</a></li>
<li><a title="CryoToolBox.piping.PipingTransition" href="#CryoToolBox.piping.PipingTransition">PipingTransition</a></li>
<li><a title="CryoToolBox.piping.Tube" href="#CryoToolBox.piping.Tube">Tube</a></li>
<li><a title="CryoToolBox.piping.Valve" href="#CryoToolBox.piping.Valve">Valve</a></li>
</ul>
<h3>Instance variables</h3>
<dl>
<dt id="CryoToolBox.piping.PipingElement.area"><code class="name">prop <span class="ident">area</span></code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
@abstractmethod
def area(self):
    pass</code></pre>
</details>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="CryoToolBox.piping.PipingElement.K"><code class="name flex">
<span>def <span class="ident">K</span></span>(<span>Re)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@abstractmethod
def K(Re):
    pass</code></pre>
</details>
<div class="desc"></div>
</dd>
</dl>
</dd>
<dt id="CryoToolBox.piping.PipingError"><code class="flex name class">
<span>class <span class="ident">PipingError</span></span>
<span>(</span><span>message)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class PipingError(Exception):
    def __init__(self, message):
        self.message = message
        super().__init__(message)</code></pre>
</details>
<div class="desc"><p>Common base class for all non-exit exceptions.</p></div>
<h3>Ancestors</h3>
<ul class="hlist">
<li>builtins.Exception</li>
<li>builtins.BaseException</li>
</ul>
</dd>
<dt id="CryoToolBox.piping.PipingTransition"><code class="flex name class">
<span>class <span class="ident">PipingTransition</span></span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class PipingTransition(PipingElement):
    &#34;&#34;&#34;
    Base class for pipe diameter transitions (contractions and enlargements).
    &#34;&#34;&#34;

    def _init_transition(self, ID1, ID2, theta, transition_type):
        &#34;&#34;&#34;
        Common initialization for diameter transitions.

        Parameters
        ----------
        ID1 : ureg.Quantity {length: 1}
            Upstream pipe inside diameter.
        ID2 : ureg.Quantity {length: 1}
            Downstream pipe inside diameter.
        theta : ureg.Quantity {dimensionless}
            Transition angle.
        transition_type : str
            Type of transition (&#39;Contraction&#39; or &#39;Enlargement&#39;).
        &#34;&#34;&#34;
        # Validate angle (common to both)
        if theta &lt;= 0*ureg.deg or theta &gt; 180*ureg.deg:
            raise ValueError(f&#34;Transition angle must be in range (0°, 180°], &#34;
                           f&#34;got {theta}&#34;)

        self.ID1 = ID1
        self.ID2 = ID2
        self.theta = theta
        self.beta = beta(ID1, ID2)
        self.type = transition_type
        self.OD = None

        # Use smaller diameter for area reference
        self.ID = min(ID1, ID2)
        self._area = circle_area(self.ID)

        # Calculate axial length
        self.L = abs(ID1 - ID2) / (2 * tan(theta/2))

        # Calculate internal volume (truncated cone)
        r1 = ID1 / 2
        r2 = ID2 / 2
        self.volume = pi * self.L / 3 * (r1**2 + r1*r2 + r2**2)

    def __str__(self):
        &#34;&#34;&#34;
        String representation of the piping transition.

        Returns
        -------
        str
            Human-readable description of the contraction.
        &#34;&#34;&#34;
        return (f&#39;{self.type}, {self.theta.to(ureg.deg)} from &#39;
                f&#39;{self.ID1.to(ureg.inch):.3f} to {self.ID2.to(ureg.inch):.3f}&#39;)

    def __repr__(self):
        &#34;&#34;&#34;
        Detailed string representation for debugging.

        Returns
        -------
        str
            Detailed representation showing all key parameters.
        &#34;&#34;&#34;
        return (f&#34;Contraction(ID1={self.ID1}, ID2={self.ID2}, &#34;
                f&#34;theta={self.theta})&#34;)</code></pre>
</details>
<div class="desc"><p>Base class for pipe diameter transitions (contractions and enlargements).</p></div>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="CryoToolBox.piping.PipingElement" href="#CryoToolBox.piping.PipingElement">PipingElement</a></li>
<li>abc.ABC</li>
</ul>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="CryoToolBox.piping.Contraction" href="#CryoToolBox.piping.Contraction">Contraction</a></li>
<li><a title="CryoToolBox.piping.Enlargement" href="#CryoToolBox.piping.Enlargement">Enlargement</a></li>
</ul>
</dd>
<dt id="CryoToolBox.piping.ReinforcementAreaResult"><code class="flex name class">
<span>class <span class="ident">ReinforcementAreaResult</span></span>
<span>(</span><span>A1, A2, A3, A4, d2, safe)</span>
</code></dt>
<dd>
<div class="desc"><p>ReinforcementAreaResult(A1, A2, A3, A4, d2, safe)</p></div>
<h3>Ancestors</h3>
<ul class="hlist">
<li>builtins.tuple</li>
</ul>
<h3>Instance variables</h3>
<dl>
<dt id="CryoToolBox.piping.ReinforcementAreaResult.A1"><code class="name">var <span class="ident">A1</span></code></dt>
<dd>
<div class="desc"><p>Alias for field number 0</p></div>
</dd>
<dt id="CryoToolBox.piping.ReinforcementAreaResult.A2"><code class="name">var <span class="ident">A2</span></code></dt>
<dd>
<div class="desc"><p>Alias for field number 1</p></div>
</dd>
<dt id="CryoToolBox.piping.ReinforcementAreaResult.A3"><code class="name">var <span class="ident">A3</span></code></dt>
<dd>
<div class="desc"><p>Alias for field number 2</p></div>
</dd>
<dt id="CryoToolBox.piping.ReinforcementAreaResult.A4"><code class="name">var <span class="ident">A4</span></code></dt>
<dd>
<div class="desc"><p>Alias for field number 3</p></div>
</dd>
<dt id="CryoToolBox.piping.ReinforcementAreaResult.d2"><code class="name">var <span class="ident">d2</span></code></dt>
<dd>
<div class="desc"><p>Alias for field number 4</p></div>
</dd>
<dt id="CryoToolBox.piping.ReinforcementAreaResult.safe"><code class="name">var <span class="ident">safe</span></code></dt>
<dd>
<div class="desc"><p>Alias for field number 5</p></div>
</dd>
</dl>
</dd>
<dt id="CryoToolBox.piping.Tee"><code class="flex name class">
<span>class <span class="ident">Tee</span></span>
<span>(</span><span>OD,<br>wall=&lt;Quantity(0, &#x27;inch&#x27;)&gt;,<br>c=&lt;Quantity(0, &#x27;inch&#x27;)&gt;,<br>direction='thru',<br>N=1)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Tee(Tube):
    &#34;&#34;&#34;
    Tee fitting.
    &#34;&#34;&#34;
    def __init__(self, OD, wall=0*ureg.inch, c=0*ureg.inch, direction=&#39;thru&#39;,
                 N=1):
        &#34;&#34;&#34;Generate a tee.

        Parameters
        ----------
        OD : ureg.Quantity {length: 1}
            Outer diameter of the tube.
        wall : ureg.Quantity {length: 1}
            Wall thickness of the tube.
        c : ureg.Quantity {length: 1}
            Sum of the mechanical allowances plus corrosion and erosion
            allowances of the inner pipe.
        N : int
            Number of tees in the pipeline
        &#34;&#34;&#34;
        if direction in [&#39;thru&#39;, &#39;through&#39;, &#39;run&#39;]:
            self.direction = &#39;run&#39;
        elif direction in [&#39;branch&#39;, &#39;side&#39;]:
            self.direction = &#39;branch&#39;
        else:
            logger.error(&#39;&#39;&#39;Tee direction is not recognized,
                         try &#34;thru&#34; or &#34;branch&#34;: {}&#39;&#39;&#39;.format(direction))
        L = 0*ureg.m
        super().__init__(OD, wall, L, c)
        self.N = N
        self.type = &#39;Tube tee&#39;

    def K(self, Re=None):
        # TODO Add Re handling
        if self.direction == &#39;run&#39;:
            K_ = 20*self.f_T()  # Crane TP-410 p. A-29
        elif self.direction == &#39;branch&#39;:
            K_ = 60*self.f_T()  # Crane TP-410 p. A-29
        return self.N * K_

    def __str__(self):
        return f&#39;{self.type}, {self.OD}x{self.wall}, {self.direction}&#39;</code></pre>
</details>
<div class="desc"><p>Tee fitting.</p>
<p>Generate a tee.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>OD</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Outer diameter of the tube.</dd>
<dt><strong><code>wall</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Wall thickness of the tube.</dd>
<dt><strong><code>c</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Sum of the mechanical allowances plus corrosion and erosion
allowances of the inner pipe.</dd>
<dt><strong><code>N</code></strong> :&ensp;<code>int</code></dt>
<dd>Number of tees in the pipeline</dd>
</dl></div>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="CryoToolBox.piping.Tube" href="#CryoToolBox.piping.Tube">Tube</a></li>
<li><a title="CryoToolBox.piping.PipingElement" href="#CryoToolBox.piping.PipingElement">PipingElement</a></li>
<li>abc.ABC</li>
</ul>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="CryoToolBox.piping.PipeTee" href="#CryoToolBox.piping.PipeTee">PipeTee</a></li>
</ul>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="CryoToolBox.piping.Tube" href="#CryoToolBox.piping.Tube">Tube</a></b></code>:
<ul class="hlist">
<li><code><a title="CryoToolBox.piping.Tube.ID" href="#CryoToolBox.piping.Tube.ID">ID</a></code></li>
<li><code><a title="CryoToolBox.piping.Tube.K" href="#CryoToolBox.piping.Tube.K">K</a></code></li>
<li><code><a title="CryoToolBox.piping.Tube.area" href="#CryoToolBox.piping.Tube.area">area</a></code></li>
<li><code><a title="CryoToolBox.piping.Tube.f_T" href="#CryoToolBox.piping.Tube.f_T">f_T</a></code></li>
<li><code><a title="CryoToolBox.piping.Tube.pressure_design_thick" href="#CryoToolBox.piping.Tube.pressure_design_thick">pressure_design_thick</a></code></li>
<li><code><a title="CryoToolBox.piping.Tube.pressure_rating" href="#CryoToolBox.piping.Tube.pressure_rating">pressure_rating</a></code></li>
<li><code><a title="CryoToolBox.piping.Tube.volume" href="#CryoToolBox.piping.Tube.volume">volume</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="CryoToolBox.piping.Tube"><code class="flex name class">
<span>class <span class="ident">Tube</span></span>
<span>(</span><span>OD,<br>wall=&lt;Quantity(0, &#x27;meter&#x27;)&gt;,<br>L=&lt;Quantity(0, &#x27;meter&#x27;)&gt;,<br>c=&lt;Quantity(0, &#x27;meter&#x27;)&gt;,<br>wall_tol=None,<br>eps=&lt;Quantity(0.0018, &#x27;inch&#x27;)&gt;)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Tube(PipingElement):
    &#34;&#34;&#34;
    Tube, requires OD and wall thickness specified
    &#34;&#34;&#34;
    def __init__(self, OD, wall=0*ureg.m, L=0*ureg.m, c=0*ureg.m, wall_tol=None,
                 eps=0.0018*ureg.inch):
        &#34;&#34;&#34;Generate tube object.

        Parameters
        ----------
        OD : ureg.Quantity {length: 1}
            Outer diameter of the tube.
        wall : ureg.Quantity {length: 1}
            Wall thickness of the tube.
        T : ureg.Quantity {length: 1}
            Minimum wall thickness considering manufacturer&#39;s minus tolerance.
        L : ureg.Quantity {length: 1}
            Length of the tube.
        c : ureg.Quantity {length: 1}
            Sum of the mechanical allowances plus corrosion and erosion
            allowances. Default is 0 m.
        eps : ureg.Quantity {length: 1}
            Absolute roughness for the tube. Default value for smooth
            pipe.
        &#34;&#34;&#34;
        self.OD = OD
        self.D = OD.to(ureg.inch).magnitude
        self.wall = wall
        self.L = L
        self.eps = eps
        # Wall thickness under tolerance is 12.5% as per ASTM A999
        self.wall_tol = wall_tol or (0.125*self.wall)
        self.T = wall - self.wall_tol
        self.c = c
        # c = Q_(&#39;0.5 mm&#39;) for unspecified machined surfaces
        # TODO add calculation for c based on thread depth c = h of B1.20.1
        self.type = &#39;Tube&#39;

    @property
    def ID(self):
        &#34;&#34;&#34;ureg.Quantity {length: 1} : Wall thickness of Pipe based on NPS table.
        &#34;&#34;&#34;
        return self.OD - 2*self.wall

    @property
    def area(self):
        &#34;&#34;&#34;ureg.Quantity {length: 2} : Cross sectional area of pipe.
        &#34;&#34;&#34;
        return circle_area(self.ID)

    @property
    def volume(self):
        &#34;&#34;&#34;ureg.Quantity {length: 3} : Pipe inner volume.
        &#34;&#34;&#34;
        return self.area * self.L

    def K(self, Re_):
        &#34;&#34;&#34;ureg.Quantity {length: 1}: Resistance coefficient.
        &#34;&#34;&#34;
        eps_r = self.eps / self.ID
        K = f_Darcy(Re_, eps_r)*self.L/self.ID
        return float(K)

    def f_T(self):
        &#34;&#34;&#34;Calculate Darcy friction factor for complete turbulence for smooth
        pipe.

        Returns
        -------
        ureg.Quantity {dimensionless}
            Fully turbulent Darcy friction factor.
        &#34;&#34;&#34;
        return 1 / (4*log10(self.eps/(3.7*self.ID))**2)

    def pressure_design_thick(self, P_int, P_ext=P_NTP, *, S, E, W, Y):
        &#34;&#34;&#34;Calculate pressure design thickness for given pressure and pipe
        material based on B31.3 304.1.

        Parameters
        ----------
        P_int : ureg.Quantity {length: -1, mass: 1, time: -2}
            Internal pressure, absolute
        P_ext : ureg.Quantity {length: -1, mass: 1, time: -2}
            External pressure, absolute

        Returns
        -------
        ureg.Quantity {length: 1}
            Minimum required wall thickness.
        &#34;&#34;&#34;
        logger.warning(&#39;Deprecated, use standalone function instead.&#39;)
        P_diff = P_int - P_ext
        return pressure_design_thick(self, P_diff, I=1, S=S, E=E, W=W, Y=Y)

    def pressure_rating(self, *, S, E, W, Y):
        &#34;&#34;&#34;Calculate internal pressure rating.

        Based on B31.3 304.1.

        Returns
        -------
        ureg.Quantity {length: 1}
            Minimum required wall thickness.
        &#34;&#34;&#34;
        logger.warning(&#39;Deprecated, use standalone function instead.&#39;)
        return pressure_rating(self, S, E, W, Y)


    def __str__(self):
        return f&#39;{self.type}, {self.OD:.3g~}x{self.wall:.3g~}, &#39; + \
            f&#39;L={self.L:.3g~}&#39;

    # def __str__(self):
    #     return f&#39;{self.D:.3g}&#34; {self.type}&#39;</code></pre>
</details>
<div class="desc"><p>Tube, requires OD and wall thickness specified</p>
<p>Generate tube object.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>OD</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Outer diameter of the tube.</dd>
<dt><strong><code>wall</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Wall thickness of the tube.</dd>
<dt><strong><code>T</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Minimum wall thickness considering manufacturer's minus tolerance.</dd>
<dt><strong><code>L</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Length of the tube.</dd>
<dt><strong><code>c</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Sum of the mechanical allowances plus corrosion and erosion
allowances. Default is 0 m.</dd>
<dt><strong><code>eps</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Absolute roughness for the tube. Default value for smooth
pipe.</dd>
</dl></div>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="CryoToolBox.piping.PipingElement" href="#CryoToolBox.piping.PipingElement">PipingElement</a></li>
<li>abc.ABC</li>
</ul>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="CryoToolBox.piping.CopperTube" href="#CryoToolBox.piping.CopperTube">CopperTube</a></li>
<li><a title="CryoToolBox.piping.CorrugatedPipe" href="#CryoToolBox.piping.CorrugatedPipe">CorrugatedPipe</a></li>
<li><a title="CryoToolBox.piping.Elbow" href="#CryoToolBox.piping.Elbow">Elbow</a></li>
<li><a title="CryoToolBox.piping.Pipe" href="#CryoToolBox.piping.Pipe">Pipe</a></li>
<li><a title="CryoToolBox.piping.Tee" href="#CryoToolBox.piping.Tee">Tee</a></li>
</ul>
<h3>Instance variables</h3>
<dl>
<dt id="CryoToolBox.piping.Tube.ID"><code class="name">prop <span class="ident">ID</span></code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def ID(self):
    &#34;&#34;&#34;ureg.Quantity {length: 1} : Wall thickness of Pipe based on NPS table.
    &#34;&#34;&#34;
    return self.OD - 2*self.wall</code></pre>
</details>
<div class="desc"><p>ureg.Quantity {length: 1} : Wall thickness of Pipe based on NPS table.</p></div>
</dd>
<dt id="CryoToolBox.piping.Tube.area"><code class="name">prop <span class="ident">area</span></code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def area(self):
    &#34;&#34;&#34;ureg.Quantity {length: 2} : Cross sectional area of pipe.
    &#34;&#34;&#34;
    return circle_area(self.ID)</code></pre>
</details>
<div class="desc"><p>ureg.Quantity {length: 2} : Cross sectional area of pipe.</p></div>
</dd>
<dt id="CryoToolBox.piping.Tube.volume"><code class="name">prop <span class="ident">volume</span></code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def volume(self):
    &#34;&#34;&#34;ureg.Quantity {length: 3} : Pipe inner volume.
    &#34;&#34;&#34;
    return self.area * self.L</code></pre>
</details>
<div class="desc"><p>ureg.Quantity {length: 3} : Pipe inner volume.</p></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="CryoToolBox.piping.Tube.K"><code class="name flex">
<span>def <span class="ident">K</span></span>(<span>self, Re_)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def K(self, Re_):
    &#34;&#34;&#34;ureg.Quantity {length: 1}: Resistance coefficient.
    &#34;&#34;&#34;
    eps_r = self.eps / self.ID
    K = f_Darcy(Re_, eps_r)*self.L/self.ID
    return float(K)</code></pre>
</details>
<div class="desc"><p>ureg.Quantity {length: 1}: Resistance coefficient.</p></div>
</dd>
<dt id="CryoToolBox.piping.Tube.f_T"><code class="name flex">
<span>def <span class="ident">f_T</span></span>(<span>self)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def f_T(self):
    &#34;&#34;&#34;Calculate Darcy friction factor for complete turbulence for smooth
    pipe.

    Returns
    -------
    ureg.Quantity {dimensionless}
        Fully turbulent Darcy friction factor.
    &#34;&#34;&#34;
    return 1 / (4*log10(self.eps/(3.7*self.ID))**2)</code></pre>
</details>
<div class="desc"><p>Calculate Darcy friction factor for complete turbulence for smooth
pipe.</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>ureg.Quantity {dimensionless}</code></dt>
<dd>Fully turbulent Darcy friction factor.</dd>
</dl></div>
</dd>
<dt id="CryoToolBox.piping.Tube.pressure_design_thick"><code class="name flex">
<span>def <span class="ident">pressure_design_thick</span></span>(<span>self,<br>P_int,<br>P_ext=&lt;Quantity(14.696, &#x27;pound_force_per_square_inch&#x27;)&gt;,<br>*,<br>S,<br>E,<br>W,<br>Y)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def pressure_design_thick(self, P_int, P_ext=P_NTP, *, S, E, W, Y):
    &#34;&#34;&#34;Calculate pressure design thickness for given pressure and pipe
    material based on B31.3 304.1.

    Parameters
    ----------
    P_int : ureg.Quantity {length: -1, mass: 1, time: -2}
        Internal pressure, absolute
    P_ext : ureg.Quantity {length: -1, mass: 1, time: -2}
        External pressure, absolute

    Returns
    -------
    ureg.Quantity {length: 1}
        Minimum required wall thickness.
    &#34;&#34;&#34;
    logger.warning(&#39;Deprecated, use standalone function instead.&#39;)
    P_diff = P_int - P_ext
    return pressure_design_thick(self, P_diff, I=1, S=S, E=E, W=W, Y=Y)</code></pre>
</details>
<div class="desc"><p>Calculate pressure design thickness for given pressure and pipe
material based on B31.3 304.1.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>P_int</code></strong> :&ensp;<code>ureg.Quantity {length: -1, mass: 1, time: -2}</code></dt>
<dd>Internal pressure, absolute</dd>
<dt><strong><code>P_ext</code></strong> :&ensp;<code>ureg.Quantity {length: -1, mass: 1, time: -2}</code></dt>
<dd>External pressure, absolute</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>ureg.Quantity {length: 1}</code></dt>
<dd>Minimum required wall thickness.</dd>
</dl></div>
</dd>
<dt id="CryoToolBox.piping.Tube.pressure_rating"><code class="name flex">
<span>def <span class="ident">pressure_rating</span></span>(<span>self, *, S, E, W, Y)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def pressure_rating(self, *, S, E, W, Y):
    &#34;&#34;&#34;Calculate internal pressure rating.

    Based on B31.3 304.1.

    Returns
    -------
    ureg.Quantity {length: 1}
        Minimum required wall thickness.
    &#34;&#34;&#34;
    logger.warning(&#39;Deprecated, use standalone function instead.&#39;)
    return pressure_rating(self, S, E, W, Y)</code></pre>
</details>
<div class="desc"><p>Calculate internal pressure rating.</p>
<p>Based on B31.3 304.1.</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>ureg.Quantity {length: 1}</code></dt>
<dd>Minimum required wall thickness.</dd>
</dl></div>
</dd>
</dl>
</dd>
<dt id="CryoToolBox.piping.VJPipe"><code class="flex name class">
<span>class <span class="ident">VJPipe</span></span>
<span>(</span><span>D_nom,<br>*,<br>SCH=5,<br>L=&lt;Quantity(0, &#x27;meter&#x27;)&gt;,<br>VJ_D,<br>VJ_SCH=5,<br>c=&lt;Quantity(0, &#x27;inch&#x27;)&gt;)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class VJPipe(Pipe):
    &#34;&#34;&#34;Vacuum jacketed pipe.
    &#34;&#34;&#34;
    def __init__(self, D_nom, *, SCH=5, L=0*ureg.m,
                 VJ_D, VJ_SCH=5, c=0*ureg.inch):
        &#34;&#34;&#34;Generate Vacuum jacketed pipe object.

        Parameters
        ----------
        D_nom : float or ureg.Quantity {length: 1}
            Nominal diameter of the inner pipe.
        SCH : int
            Inner pipe schedule. Default value is SCH 40 (STD).
        L : ureg.Quantity {length: 1}
            Length of the inner pipe.
        VJ_D : float or ureg.Quantity {length: 1}
            Nominal diameter of the vacuum jacket.
        VJ_SCH : int
            Vacuum jacket pipe schedule. Default value is SCH 40 (STD).
        c : ureg.Quantity {length: 1}
            Sum of the mechanical allowances plus corrosion and erosion
            allowances of the inner pipe.
        &#34;&#34;&#34;
        super().__init__(D_nom, SCH, L)
        self.VJ = Pipe(VJ_D, VJ_SCH, L)
        self.type = &#39;VJ pipe&#39;

    def info(self):
        return f&#39;NPS {self.D}&#34; SCH {self.SCH} with VJ {self.VJ.D}&#34;, &#39; + \
            f&#39;SCH {self.VJ.SCH}, L={self.L:.3~g}&#39;</code></pre>
</details>
<div class="desc"><p>Vacuum jacketed pipe.</p>
<p>Generate Vacuum jacketed pipe object.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>D_nom</code></strong> :&ensp;<code>float</code> or <code>ureg.Quantity {length: 1}</code></dt>
<dd>Nominal diameter of the inner pipe.</dd>
<dt><strong><code>SCH</code></strong> :&ensp;<code>int</code></dt>
<dd>Inner pipe schedule. Default value is SCH 40 (STD).</dd>
<dt><strong><code>L</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Length of the inner pipe.</dd>
<dt><strong><code>VJ_D</code></strong> :&ensp;<code>float</code> or <code>ureg.Quantity {length: 1}</code></dt>
<dd>Nominal diameter of the vacuum jacket.</dd>
<dt><strong><code>VJ_SCH</code></strong> :&ensp;<code>int</code></dt>
<dd>Vacuum jacket pipe schedule. Default value is SCH 40 (STD).</dd>
<dt><strong><code>c</code></strong> :&ensp;<code>ureg.Quantity {length: 1}</code></dt>
<dd>Sum of the mechanical allowances plus corrosion and erosion
allowances of the inner pipe.</dd>
</dl></div>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="CryoToolBox.piping.Pipe" href="#CryoToolBox.piping.Pipe">Pipe</a></li>
<li><a title="CryoToolBox.piping.Tube" href="#CryoToolBox.piping.Tube">Tube</a></li>
<li><a title="CryoToolBox.piping.PipingElement" href="#CryoToolBox.piping.PipingElement">PipingElement</a></li>
<li>abc.ABC</li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="CryoToolBox.piping.VJPipe.info"><code class="name flex">
<span>def <span class="ident">info</span></span>(<span>self)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def info(self):
    return f&#39;NPS {self.D}&#34; SCH {self.SCH} with VJ {self.VJ.D}&#34;, &#39; + \
        f&#39;SCH {self.VJ.SCH}, L={self.L:.3~g}&#39;</code></pre>
</details>
<div class="desc"></div>
</dd>
</dl>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="CryoToolBox.piping.Pipe" href="#CryoToolBox.piping.Pipe">Pipe</a></b></code>:
<ul class="hlist">
<li><code><a title="CryoToolBox.piping.Pipe.ID" href="#CryoToolBox.piping.Tube.ID">ID</a></code></li>
<li><code><a title="CryoToolBox.piping.Pipe.K" href="#CryoToolBox.piping.Tube.K">K</a></code></li>
<li><code><a title="CryoToolBox.piping.Pipe.area" href="#CryoToolBox.piping.Tube.area">area</a></code></li>
<li><code><a title="CryoToolBox.piping.Pipe.f_T" href="#CryoToolBox.piping.Tube.f_T">f_T</a></code></li>
<li><code><a title="CryoToolBox.piping.Pipe.pressure_design_thick" href="#CryoToolBox.piping.Tube.pressure_design_thick">pressure_design_thick</a></code></li>
<li><code><a title="CryoToolBox.piping.Pipe.pressure_rating" href="#CryoToolBox.piping.Tube.pressure_rating">pressure_rating</a></code></li>
<li><code><a title="CryoToolBox.piping.Pipe.volume" href="#CryoToolBox.piping.Tube.volume">volume</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="CryoToolBox.piping.Valve"><code class="flex name class">
<span>class <span class="ident">Valve</span></span>
<span>(</span><span>D, Cv)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Valve(PipingElement):
    &#34;&#34;&#34;
    Generic valve with known Cv.
    &#34;&#34;&#34;
    def __init__(self, D, Cv):
        # TODO DRY
        self.D = D
        self._Cv = Cv
        self.OD = None
        self.ID = self.D
        self._area = circle_area(D)
        self.L = None
        self.type = &#39;Valve&#39;
        self.volume = 0 * ureg.ft**3

    @property
    def area(self):
        return self._area

    def K(self, Re=None):
        # TODO Add Re handling
        return Cv_to_K(self._Cv, self.D)

    def __str__(self):
        return f&#39;{self.type}, {self.D}&#34;, Cv = {self._Cv:.3g}&#39;</code></pre>
</details>
<div class="desc"><p>Generic valve with known Cv.</p></div>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="CryoToolBox.piping.PipingElement" href="#CryoToolBox.piping.PipingElement">PipingElement</a></li>
<li>abc.ABC</li>
</ul>
<h3>Instance variables</h3>
<dl>
<dt id="CryoToolBox.piping.Valve.area"><code class="name">prop <span class="ident">area</span></code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def area(self):
    return self._area</code></pre>
</details>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="CryoToolBox.piping.Valve.K"><code class="name flex">
<span>def <span class="ident">K</span></span>(<span>self, Re=None)</span>
</code></dt>
<dd>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def K(self, Re=None):
    # TODO Add Re handling
    return Cv_to_K(self._Cv, self.D)</code></pre>
</details>
<div class="desc"></div>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="CryoToolBox" href="index.html">CryoToolBox</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="CryoToolBox.piping.Cv_to_K" href="#CryoToolBox.piping.Cv_to_K">Cv_to_K</a></code></li>
<li><code><a title="CryoToolBox.piping.Cv_to_Kv" href="#CryoToolBox.piping.Cv_to_Kv">Cv_to_Kv</a></code></li>
<li><code><a title="CryoToolBox.piping.G_nozzle" href="#CryoToolBox.piping.G_nozzle">G_nozzle</a></code></li>
<li><code><a title="CryoToolBox.piping.I_extrados" href="#CryoToolBox.piping.I_extrados">I_extrados</a></code></li>
<li><code><a title="CryoToolBox.piping.I_intrados" href="#CryoToolBox.piping.I_intrados">I_intrados</a></code></li>
<li><code><a title="CryoToolBox.piping.K_lim" href="#CryoToolBox.piping.K_lim">K_lim</a></code></li>
<li><code><a title="CryoToolBox.piping.K_piping" href="#CryoToolBox.piping.K_piping">K_piping</a></code></li>
<li><code><a title="CryoToolBox.piping.K_to_Cv" href="#CryoToolBox.piping.K_to_Cv">K_to_Cv</a></code></li>
<li><code><a title="CryoToolBox.piping.Kv_to_Cv" href="#CryoToolBox.piping.Kv_to_Cv">Kv_to_Cv</a></code></li>
<li><code><a title="CryoToolBox.piping.M_Klim" href="#CryoToolBox.piping.M_Klim">M_Klim</a></code></li>
<li><code><a title="CryoToolBox.piping.M_complex" href="#CryoToolBox.piping.M_complex">M_complex</a></code></li>
<li><code><a title="CryoToolBox.piping.Mach" href="#CryoToolBox.piping.Mach">Mach</a></code></li>
<li><code><a title="CryoToolBox.piping.Mach_total" href="#CryoToolBox.piping.Mach_total">Mach_total</a></code></li>
<li><code><a title="CryoToolBox.piping.P_crit" href="#CryoToolBox.piping.P_crit">P_crit</a></code></li>
<li><code><a title="CryoToolBox.piping.P_from_M" href="#CryoToolBox.piping.P_from_M">P_from_M</a></code></li>
<li><code><a title="CryoToolBox.piping.P_total" href="#CryoToolBox.piping.P_total">P_total</a></code></li>
<li><code><a title="CryoToolBox.piping.beta" href="#CryoToolBox.piping.beta">beta</a></code></li>
<li><code><a title="CryoToolBox.piping.calculate_branch_reinforcement" href="#CryoToolBox.piping.calculate_branch_reinforcement">calculate_branch_reinforcement</a></code></li>
<li><code><a title="CryoToolBox.piping.calculate_closure_reinforcement" href="#CryoToolBox.piping.calculate_closure_reinforcement">calculate_closure_reinforcement</a></code></li>
<li><code><a title="CryoToolBox.piping.churchill" href="#CryoToolBox.piping.churchill">churchill</a></code></li>
<li><code><a title="CryoToolBox.piping.dP_Darcy" href="#CryoToolBox.piping.dP_Darcy">dP_Darcy</a></code></li>
<li><code><a title="CryoToolBox.piping.dP_adiab" href="#CryoToolBox.piping.dP_adiab">dP_adiab</a></code></li>
<li><code><a title="CryoToolBox.piping.dP_incomp" href="#CryoToolBox.piping.dP_incomp">dP_incomp</a></code></li>
<li><code><a title="CryoToolBox.piping.dP_isot" href="#CryoToolBox.piping.dP_isot">dP_isot</a></code></li>
<li><code><a title="CryoToolBox.piping.equivalent_orifice" href="#CryoToolBox.piping.equivalent_orifice">equivalent_orifice</a></code></li>
<li><code><a title="CryoToolBox.piping.f_Darcy" href="#CryoToolBox.piping.f_Darcy">f_Darcy</a></code></li>
<li><code><a title="CryoToolBox.piping.m_dot_adiab" href="#CryoToolBox.piping.m_dot_adiab">m_dot_adiab</a></code></li>
<li><code><a title="CryoToolBox.piping.m_dot_incomp" href="#CryoToolBox.piping.m_dot_incomp">m_dot_incomp</a></code></li>
<li><code><a title="CryoToolBox.piping.m_dot_isot" href="#CryoToolBox.piping.m_dot_isot">m_dot_isot</a></code></li>
<li><code><a title="CryoToolBox.piping.piping_stored_energy" href="#CryoToolBox.piping.piping_stored_energy">piping_stored_energy</a></code></li>
<li><code><a title="CryoToolBox.piping.piping_stress" href="#CryoToolBox.piping.piping_stress">piping_stress</a></code></li>
<li><code><a title="CryoToolBox.piping.pressure_design_thick" href="#CryoToolBox.piping.pressure_design_thick">pressure_design_thick</a></code></li>
<li><code><a title="CryoToolBox.piping.pressure_rating" href="#CryoToolBox.piping.pressure_rating">pressure_rating</a></code></li>
<li><code><a title="CryoToolBox.piping.pressure_req_thick" href="#CryoToolBox.piping.pressure_req_thick">pressure_req_thick</a></code></li>
<li><code><a title="CryoToolBox.piping.rc" href="#CryoToolBox.piping.rc">rc</a></code></li>
<li><code><a title="CryoToolBox.piping.serghide" href="#CryoToolBox.piping.serghide">serghide</a></code></li>
<li><code><a title="CryoToolBox.piping.velocity" href="#CryoToolBox.piping.velocity">velocity</a></code></li>
<li><code><a title="CryoToolBox.piping.volume" href="#CryoToolBox.piping.volume">volume</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="CryoToolBox.piping.Annulus" href="#CryoToolBox.piping.Annulus">Annulus</a></code></h4>
<ul class="">
<li><code><a title="CryoToolBox.piping.Annulus.K" href="#CryoToolBox.piping.Annulus.K">K</a></code></li>
<li><code><a title="CryoToolBox.piping.Annulus.area" href="#CryoToolBox.piping.Annulus.area">area</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="CryoToolBox.piping.ChokedFlow" href="#CryoToolBox.piping.ChokedFlow">ChokedFlow</a></code></h4>
</li>
<li>
<h4><code><a title="CryoToolBox.piping.ConicOrifice" href="#CryoToolBox.piping.ConicOrifice">ConicOrifice</a></code></h4>
</li>
<li>
<h4><code><a title="CryoToolBox.piping.Contraction" href="#CryoToolBox.piping.Contraction">Contraction</a></code></h4>
<ul class="">
<li><code><a title="CryoToolBox.piping.Contraction.K" href="#CryoToolBox.piping.Contraction.K">K</a></code></li>
<li><code><a title="CryoToolBox.piping.Contraction.area" href="#CryoToolBox.piping.Contraction.area">area</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="CryoToolBox.piping.CopperTube" href="#CryoToolBox.piping.CopperTube">CopperTube</a></code></h4>
</li>
<li>
<h4><code><a title="CryoToolBox.piping.CorrugatedPipe" href="#CryoToolBox.piping.CorrugatedPipe">CorrugatedPipe</a></code></h4>
<ul class="">
<li><code><a title="CryoToolBox.piping.CorrugatedPipe.branch_reinforcement" href="#CryoToolBox.piping.CorrugatedPipe.branch_reinforcement">branch_reinforcement</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="CryoToolBox.piping.Elbow" href="#CryoToolBox.piping.Elbow">Elbow</a></code></h4>
<ul class="">
<li><code><a title="CryoToolBox.piping.Elbow.K" href="#CryoToolBox.piping.Elbow.K">K</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="CryoToolBox.piping.Enlargement" href="#CryoToolBox.piping.Enlargement">Enlargement</a></code></h4>
<ul class="">
<li><code><a title="CryoToolBox.piping.Enlargement.K" href="#CryoToolBox.piping.Enlargement.K">K</a></code></li>
<li><code><a title="CryoToolBox.piping.Enlargement.area" href="#CryoToolBox.piping.Enlargement.area">area</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="CryoToolBox.piping.Entrance" href="#CryoToolBox.piping.Entrance">Entrance</a></code></h4>
<ul class="">
<li><code><a title="CryoToolBox.piping.Entrance.K" href="#CryoToolBox.piping.Entrance.K">K</a></code></li>
<li><code><a title="CryoToolBox.piping.Entrance.area" href="#CryoToolBox.piping.Entrance.area">area</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="CryoToolBox.piping.Exit" href="#CryoToolBox.piping.Exit">Exit</a></code></h4>
</li>
<li>
<h4><code><a title="CryoToolBox.piping.HydraulicError" href="#CryoToolBox.piping.HydraulicError">HydraulicError</a></code></h4>
</li>
<li>
<h4><code><a title="CryoToolBox.piping.Orifice" href="#CryoToolBox.piping.Orifice">Orifice</a></code></h4>
<ul class="">
<li><code><a title="CryoToolBox.piping.Orifice.K" href="#CryoToolBox.piping.Orifice.K">K</a></code></li>
<li><code><a title="CryoToolBox.piping.Orifice.area" href="#CryoToolBox.piping.Orifice.area">area</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="CryoToolBox.piping.PackedBed" href="#CryoToolBox.piping.PackedBed">PackedBed</a></code></h4>
<ul class="">
<li><code><a title="CryoToolBox.piping.PackedBed.K" href="#CryoToolBox.piping.PackedBed.K">K</a></code></li>
<li><code><a title="CryoToolBox.piping.PackedBed.Re_mod" href="#CryoToolBox.piping.PackedBed.Re_mod">Re_mod</a></code></li>
<li><code><a title="CryoToolBox.piping.PackedBed.area" href="#CryoToolBox.piping.PackedBed.area">area</a></code></li>
<li><code><a title="CryoToolBox.piping.PackedBed.f" href="#CryoToolBox.piping.PackedBed.f">f</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="CryoToolBox.piping.ParallelPlateRelief" href="#CryoToolBox.piping.ParallelPlateRelief">ParallelPlateRelief</a></code></h4>
<ul class="">
<li><code><a title="CryoToolBox.piping.ParallelPlateRelief.P_open" href="#CryoToolBox.piping.ParallelPlateRelief.P_open">P_open</a></code></li>
<li><code><a title="CryoToolBox.piping.ParallelPlateRelief.P_set" href="#CryoToolBox.piping.ParallelPlateRelief.P_set">P_set</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="CryoToolBox.piping.Pipe" href="#CryoToolBox.piping.Pipe">Pipe</a></code></h4>
</li>
<li>
<h4><code><a title="CryoToolBox.piping.PipeElbow" href="#CryoToolBox.piping.PipeElbow">PipeElbow</a></code></h4>
</li>
<li>
<h4><code><a title="CryoToolBox.piping.PipeTee" href="#CryoToolBox.piping.PipeTee">PipeTee</a></code></h4>
<ul class="">
<li><code><a title="CryoToolBox.piping.PipeTee.info" href="#CryoToolBox.piping.PipeTee.info">info</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="CryoToolBox.piping.PipingElement" href="#CryoToolBox.piping.PipingElement">PipingElement</a></code></h4>
<ul class="">
<li><code><a title="CryoToolBox.piping.PipingElement.K" href="#CryoToolBox.piping.PipingElement.K">K</a></code></li>
<li><code><a title="CryoToolBox.piping.PipingElement.area" href="#CryoToolBox.piping.PipingElement.area">area</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="CryoToolBox.piping.PipingError" href="#CryoToolBox.piping.PipingError">PipingError</a></code></h4>
</li>
<li>
<h4><code><a title="CryoToolBox.piping.PipingTransition" href="#CryoToolBox.piping.PipingTransition">PipingTransition</a></code></h4>
</li>
<li>
<h4><code><a title="CryoToolBox.piping.ReinforcementAreaResult" href="#CryoToolBox.piping.ReinforcementAreaResult">ReinforcementAreaResult</a></code></h4>
<ul class="two-column">
<li><code><a title="CryoToolBox.piping.ReinforcementAreaResult.A1" href="#CryoToolBox.piping.ReinforcementAreaResult.A1">A1</a></code></li>
<li><code><a title="CryoToolBox.piping.ReinforcementAreaResult.A2" href="#CryoToolBox.piping.ReinforcementAreaResult.A2">A2</a></code></li>
<li><code><a title="CryoToolBox.piping.ReinforcementAreaResult.A3" href="#CryoToolBox.piping.ReinforcementAreaResult.A3">A3</a></code></li>
<li><code><a title="CryoToolBox.piping.ReinforcementAreaResult.A4" href="#CryoToolBox.piping.ReinforcementAreaResult.A4">A4</a></code></li>
<li><code><a title="CryoToolBox.piping.ReinforcementAreaResult.d2" href="#CryoToolBox.piping.ReinforcementAreaResult.d2">d2</a></code></li>
<li><code><a title="CryoToolBox.piping.ReinforcementAreaResult.safe" href="#CryoToolBox.piping.ReinforcementAreaResult.safe">safe</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="CryoToolBox.piping.Tee" href="#CryoToolBox.piping.Tee">Tee</a></code></h4>
</li>
<li>
<h4><code><a title="CryoToolBox.piping.Tube" href="#CryoToolBox.piping.Tube">Tube</a></code></h4>
<ul class="">
<li><code><a title="CryoToolBox.piping.Tube.ID" href="#CryoToolBox.piping.Tube.ID">ID</a></code></li>
<li><code><a title="CryoToolBox.piping.Tube.K" href="#CryoToolBox.piping.Tube.K">K</a></code></li>
<li><code><a title="CryoToolBox.piping.Tube.area" href="#CryoToolBox.piping.Tube.area">area</a></code></li>
<li><code><a title="CryoToolBox.piping.Tube.f_T" href="#CryoToolBox.piping.Tube.f_T">f_T</a></code></li>
<li><code><a title="CryoToolBox.piping.Tube.pressure_design_thick" href="#CryoToolBox.piping.Tube.pressure_design_thick">pressure_design_thick</a></code></li>
<li><code><a title="CryoToolBox.piping.Tube.pressure_rating" href="#CryoToolBox.piping.Tube.pressure_rating">pressure_rating</a></code></li>
<li><code><a title="CryoToolBox.piping.Tube.volume" href="#CryoToolBox.piping.Tube.volume">volume</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="CryoToolBox.piping.VJPipe" href="#CryoToolBox.piping.VJPipe">VJPipe</a></code></h4>
<ul class="">
<li><code><a title="CryoToolBox.piping.VJPipe.info" href="#CryoToolBox.piping.VJPipe.info">info</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="CryoToolBox.piping.Valve" href="#CryoToolBox.piping.Valve">Valve</a></code></h4>
<ul class="">
<li><code><a title="CryoToolBox.piping.Valve.K" href="#CryoToolBox.piping.Valve.K">K</a></code></li>
<li><code><a title="CryoToolBox.piping.Valve.area" href="#CryoToolBox.piping.Valve.area">area</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.11.6</a>.</p>
</footer>
</body>
</html>
